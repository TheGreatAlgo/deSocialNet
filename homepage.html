<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/0af91b369f.js" crossorigin="anonymous"></script>
    <title>Hello, world!</title>
  </head>

  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script src="https://npmcdn.com/moralis@latest/dist/moralis.js"></script>
  <script>

  var file;
  var gif;
  var link;
  const kovanContract = "0xe55cBB27Fe4638eC377fD81c359459103533D20f";
  const ABI = [
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "messageText",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "randomResult1",
				"type": "uint256"
			}
		],
		"name": "addPost",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "checkUpkeep",
		"outputs": [
			{
				"internalType": "bool",
				"name": "upkeepNeeded",
				"type": "bool"
			},
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "messageText",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "url",
				"type": "string"
			}
		],
		"name": "getRandomNumberAndPost",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "requestId",
				"type": "bytes32"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postKey",
				"type": "uint256"
			}
		],
		"name": "likePost",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "text",
				"type": "string"
			}
		],
		"name": "newProfile",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "performUpkeep",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "requestId",
				"type": "bytes32"
			},
			{
				"internalType": "uint256",
				"name": "randomness",
				"type": "uint256"
			}
		],
		"name": "rawFulfillRandomness",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_amount",
				"type": "uint256"
			}
		],
		"name": "withdraw",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "contract IERC20",
				"name": "token",
				"type": "address"
			}
		],
		"name": "withdrawErc20",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getAllUserPosts",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "userPosts",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getTotalUsers",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "totalUsers",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postKey",
				"type": "uint256"
			}
		],
		"name": "getUserPost",
		"outputs": [
			{
				"internalType": "string",
				"name": "message",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "numberOfLikes",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getUserProfile",
		"outputs": [
			{
				"internalType": "string",
				"name": "profileBio",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "totalPosts",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "randomResult",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];
const options = {
  contractAddress: kovanContract,
  functionName: "newProfile",
  abi: ABI,
  params: {
    text: "hello world"
  },
};
  const serverUrl = "https://h1fpcthpxdrt.usemoralis.com:2053/server";
  const appId = "xNLGUQH5eITa3ybsmQ7Zp2ZbekxAtVRa6umAJ1LZ";
  Moralis.start({ serverUrl, appId });
  async function newProfile(profileBio) {
    const options = {
      contractAddress: kovanContract,
      functionName: "newProfile",
      abi: ABI,
      params: {
        text: profileBio
      },
    };
    const receipt = await Moralis.executeFunction(options);
    console.log(receipt)
  }
  async function addPost(message,messageURL) {
    const options = {
      contractAddress: kovanContract,
      functionName: "getRandomNumberAndPost",
      abi: ABI,
      params: {
        messageText: message,
        url: messageURL
      },
    };
    const receipt = await Moralis.executeFunction(options);
    console.log(receipt)
  }
  async function login() {
    console.log("login attempted");
    let user = Moralis.User.current();
    if (!user) {
      user = await Moralis.authenticate();
       document.getElementById("loginForm").style.display = "none";
       document.getElementById("mainPage").style.display = "block";
     }
    else{
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
    }
    console.log("logged in user:", user);
  }
  async function onFirstLoad() {
    const web3 = await Moralis.enableWeb3();
    console.log("login attempted");
    let user = Moralis.User.current();
    if (!user) {
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("mainPage").style.display = "none";
      user = await Moralis.authenticate();
       document.getElementById("loginForm").style.display = "none";
       document.getElementById("mainPage").style.display = "block";
     }
    else{
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
    }
    console.log("logged in user:", user);
  }
  async function logOut() {
      await Moralis.User.logOut();
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("mainPage").style.display = "none";
      console.log("logged out");

  }
  async function getUserProfile() {
    const options = {
      contractAddress: kovanContract,
      functionName: "getUserProfile",
      abi: ABI,
      params: {
        userAddress: "0x252d2f2293098AF088623a641546c98687DeB884"
      },
    };
    const receipt = await Moralis.executeFunction(options);
    console.log(receipt)
  }
  async function getUserPost(_userAddress, _postKey) {
    const options = {
      contractAddress: kovanContract,
      functionName: "getUserPost",
      abi: ABI,
      params: {
        userAddress: _userAddress,
        postKey: _postKey
      },
    };
    const receipt = await Moralis.executeFunction(options);
    console.log(receipt)
    return receipt;
  }
  function updateUserPreferences(data, action){
    const userPreferences = Moralis.User.current();
    switch(action){
      case "unfollow":
          userPreferences.remove("following",data); //Array of Addresses
          break;
      case "follow":
          userPreferences.add("following",data);
          break;
      case "modeChange":
          userPreferences.set("mode",data); //Either "Light" or "dark"
          break;
      case "savePost":
          userPreferences.add("savedPosts",data); //Array of Addresses with Post ID
          break;
      case "unSavePost":
          userPreferences.remove("savedPosts",data);
          break;
      default:
        //do nothing
    }
    userPreferences.save()
    .then((userPreferences) => {
  // Execute any logic that should take place after the object is saved.
    alert('New object created with objectId: ' + userPreferences.id);
     }, (error) => {
    // Execute any logic that should take place if the save fails.
    // error is a Moralis.Error with an error code and message.
    alert('Failed to create new object, with error code: ' + error.message);
  });
  }
  function getUserPreferences() {
    const userPreferences = Moralis.User.current();
    const following = userPreferences.get("following");
    const savedPosts = userPreferences.get("savedPosts");
    const mode = userPreferences.get("mode");
}
// HANDLING FILES/LINKS ------------------------------------------------------------------------------------------------------------HANDLING FILES/LINKS-------------------------------
  function handleFile(input) {
    file = input.files[0]; //input.files[0];
    console.log("new file");
    const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
    document.getElementById("textArea").innerHTML +=
      `
      <div class="row align-items-start">
        <div class="col-4">
            <p style = "margin: 10px 0px 0px"><em>${file.name}</em></p>
        </div>
        <div class="col-1" style="margin: 10px 0px 0px">
            <button type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
      </div>`; // Profile Overview in the Modal

  document.getElementById("messageToPost").value = message;
  //  alert(`File name: ${file.name}`); // e.g my.png
  //  alert(`Last modified: ${file.lastModified}`); // e.g 1552830408824
  }
  function handleGif(gifLink) {
    const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
    document.getElementById("messageContent").innerHTML +=
      `<img src="https://media.giphy.com/media/${gifLink}/giphy.gif" style="display: block; margin:auto; padding:0px 0px 20px 0px" width="50%">`; // Profile Overview in the Modal
      document.getElementById("messageToPost").value = message;
  }
  function handleUserGif() {
    console.log("New Gif");
    gif = true;
    const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
    const gifLink = document.getElementById("gifLink").value
    document.getElementById("textArea").innerHTML +=
      `<img id="gif" src="${gifLink}" style="display: block; margin:auto; padding:20px 0px 20px 0px" width="50%">`; // Profile Overview in the Modal
      document.getElementById("messageToPost").value = message;
  }
  function handleUserLink() {
    link = true;
    console.log("new link");
    const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
    const linkValue = document.getElementById("link").value
    document.getElementById("textArea").innerHTML +=
      `
      <div class="row align-items-start">
        <div class="col-6">
            <p id="link" style = "margin: 10px 0px 0px"><em>${linkValue}</em></p>
        </div>
        <div class="col-1" style="margin: 10px 0px 0px">
            <button  type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
      </div>`; // Profile Overview in the Modal

  document.getElementById("messageToPost").value = message;
  //  alert(`File name: ${file.name}`); // e.g my.png
  //  alert(`Last modified: ${file.lastModified}`); // e.g 1552830408824
  }
  async function uploadFileandPostToBlockChain() {
    const data = file;
    const message = document.getElementById("messageToPost").value;
    // *IMPORTANT* Check to see if file exists or not*
    if (data) {
      //  const moralisFile = new Moralis.File(data.name, data)
      //  const receipt = await moralisFile.saveIPFS();
      //  addPost(message,moralisFile.hash()) //Save to BlockChain
      var textArea = document.getElementById("textArea");
      textArea.removeChild(textArea.lastElementChild);
    }
    if (gif){
      let gifSource = document.getElementById("gif").src;
      gifSource = gifSource.replace('https://media.giphy.com/media/', '');
      gifSource = gifSource.replace('/giphy.gif', '');
      // addPost(message,gifSource) //Save to BlockChain
      var textArea = document.getElementById("textArea");
      textArea.removeChild(textArea.lastElementChild);
    }
    if (link){
      let linkSource = document.getElementById("link").value;
      // addPost(message,linkSource) //Save to BlockChain
      var textArea = document.getElementById("textArea");
      textArea.removeChild(textArea.lastElementChild);
      console.log(linkSource);
    }
    else{
      //  addPost(message,"") //Save to BlockChain
    }
    console.log(message);
    //addPost(message,"QmUXTtySmd7LD4p6RG6rZW6RuUuPZXTtNMmRQ6DSQo3aMw") //Only for Testing
  //  console.log(moralisFile.ipfs(), moralisFile.hash())
  //  console.log("Receipt ",receipt)

    document.getElementById("messageToPost").value = ""; // reset text Box

    file = false;
    gif = false;
    link = false;
    return receipt;
  }
  // function getUserPreferences(){
  //   const userPreferences = Moralis.User.current();
  //   console.log(userPreferences.fetch())
  // }
  var myModal = document.getElementById('myModal')
  var myInput = document.getElementById('myInput')

  myModal.addEventListener('shown.bs.modal', function () {
    myInput.focus()
  })
  function getLocalTime(unixTimeStamp){
    var date = new Date(unixTimeStamp).toLocaleDateString("en-US");
    var time = new Date(unixTimeStamp).toLocaleTimeString("en-US");
    return (date + " " + time)
  }
  // DYNAMIC RENDERING Code -----------------------------------------------------------------------------------------------------------Dynamic Rendering ------------------------------
  function deleteFile(){
    var textArea = document.getElementById("textArea");
    textArea.removeChild(textArea.lastElementChild);
    file = false;
  }
  function renderFollowing(followingArray) { //followingArray
      var followerHTML = document.getElementById("followerList");
      while (followerHTML.hasChildNodes()) { // This removes all of them and re-renders it
        followerHTML.removeChild(followerHTML.firstChild);
        }
    //  const followingArray = [["john","0x4532f2293098AF088623a641546c98687DeB884"],["phil","0x5354f2293098AF088623a641546c98687DeB884"],["Sarah","0x4532f2293098AF088623a641546c98687DeB884"]]
      for (let i = 0; i < followingArray.length; i++) {
        const nickName = followingArray[i][0];
        const address = followingArray[i][1];
        var addressShort = address.slice(0, 10);
        addressShort = addressShort.concat("...");
        document.getElementById("followerList").innerHTML +=
          `<h6 class = "text-center" data-bs-toggle="modal" data-bs-target="#userAccountModal" >${nickName}  ${addressShort}</h6>`; // Profile Overview in the Modal
        }
    }
  function renderSaved(savedArray) { //savedArray
      var savedHTML = document.getElementById("savedList");
      while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
        savedHTML.removeChild(savedHTML.firstChild);
        }
    //  const savedArray = [["john","0x4532f2293098AF088623a641546c98687DeB884","48022637"],["phil","0x5354f2293098AF088623a641546c98687DeB884","48022637"],["Sarah","0x4532f2293098AF088623a641546c98687DeB884","48022637"]]
      for (let i = 0; i < savedArray.length; i++) {
        const nickName = savedArray[i][0];
        const address = savedArray[i][1];
        const postID = savedArray[i][2];
        var postIDShort = postID.slice(0, 10);
        postIDShort = postID.concat("...");
        document.getElementById("savedList").innerHTML +=
          `<h6 class = "text-center" type="button" data-bs-toggle="modal" data-bs-target="#savedPostModal" >${nickName}  ${postID}</h6>`; //Solve this later to load up a modal
        }
    }
    function renderSavedModal(nickName,address,postID) { //nickName,address,postID
        var savedHTML = document.getElementById("savedList");
        while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
          savedHTML.removeChild(savedHTML.firstChild);
          }
        const savedArray = [["john","0x4532f2293098AF088623a641546c98687DeB884","48022637"],["phil","0x5354f2293098AF088623a641546c98687DeB884","48022637"],["Sarah","0x4532f2293098AF088623a641546c98687DeB884","48022637"]]
        for (let i = 0; i < savedArray.length; i++) {
          const nickName = savedArray[i][0];
          const address = savedArray[i][1];
          const postID = savedArray[i][2];
          var postIDShort = postID.slice(0, 10);
          postIDShort = postID.concat("...");
          document.getElementById("savedList").innerHTML +=
            `<h6 class = "text-center" type="button" data-bs-toggle="modal" data-bs-target="#savedPostModal" >${nickName}  ${postID}</h6>`; //Solve this later to load up a modal
          }
      }


  </script>
  <style>
  .fa-star:hover {
  color: yellow;
  cursor: pointer;
  }
  .fa-heart:hover {
    color: red;
    cursor: pointer;
  }
  .fa-comments:hover {
    color: grey;
    cursor: pointer;
  }
  .fa-share-square:hover {
    color: blue;
    cursor: pointer;
  }
  .fa-ethereum:hover {
    color: green;
    cursor: pointer;
  }
  .fa-trash-alt:hover {
    color: red;
    cursor: pointer;
  }
  .fa-plus:hover {
    color: #4599A8;
    cursor: pointer;
  }

  .fa-link:hover {
    color: #4599A8;
    cursor: pointer;
  }
  .fa-images:hover {
    color: #4599A8;
    cursor: pointer;
  }
  .fa-film:hover {
    color: #4599A8;
    cursor: pointer;
  }
  .form-control:focus {
    outline: none !important;
    border:1px solid red;
    box-shadow: 0 0 10px #719ECE;
  }
  .neonAnimated {
    outline: none !important;
    box-shadow: 0 0 10px #719ECE;
    animation-name: neonGlow;
    animation-duration: 4s;
    animation-iteration-count: infinite;
  }
  @keyframes neonGlow {
  0% {box-shadow: 0 0 10px #719ECE;}
  12% {box-shadow: 0 0 20px  #719ECE;}
  25% {box-shadow: 0 0 10px #719ECE;}
}
.neon {
  outline: none !important;
  box-shadow: 0 0 10px #719ECE;
}
  .neon-white {
    outline: none !important;
    box-shadow: 0 0 10px #fff;
  }
  .textChange {
    color: #D6D6D6;
  }
  .btn:hover {
    outline: none !important;
    box-shadow: 0 0 10px rgb(129,143,225);
  }

.btn-close{
filter: invert(24%) sepia(89%) saturate(6838%) hue-rotate(356deg) brightness(103%) contrast(96%);
}
  a {
    text-decoration: none;
    color: black;
    }
  p {
      color: white;
      }
  h6 {
      color: white;
      }
  </style>

  <body style = "background-color: #1D1D1F"> <!-- 313334 -->
    <section id="loginForm" class="vh-100" style="background-color: #1D1D1F; display: none"> <!--  #3C719D-->
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="card shadow-2-strong neonAnimated" style="border-radius: 1rem;" style="background-color: #313334"> <!--  #F5F0F2-->
              <div class="card-body p-5 text-center" style="background-color: #313334" >
                <div class="row align-items-start">
                <img src="https://i.ibb.co/VtgVRkx/Logo-Small.png" alt="Logo-01" border="0" style="display: block; margin:auto; padding:0px 0px 0px 0px; max-width: 60%" >
                </div>

                <div class="row align-items-start">
                  <hr class="my-4">
                  <h5 class="mb-5 textChange" style="margin-bottom: 10px!important">DISCLAIMER!</h5>
                  <h5 class="mb-5 textChange" style="margin-bottom: 10px!important">Everything you do will be permanently on the public blockchain and visible to all. You cannot remove it once the action is complete.</h5>
                  <hr class="my-4">
                </div>
                <div class="row align-items-start">
                <button class="btn btn-primary btn-lg btn-block neon-white textChange" style="background-color: #535353; border-color: #535353;" type="submit" onClick="login();">Login with Metamask</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div id="mainPage" class="container-lg" style="background-color: #1D1D1F;" onload="onFirstLoad()">
  <!-- confirmationModal start -->
  <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style = "color: red;">DISCLAIMER!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h5 class="mb-5" style="margin-bottom: 10px!important">This will be permanently on the blockchain and associated to your public account. You cannot remove it once the action is complete. Are you sure you want to continue?</h5>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button id="confirmToBlockchain" type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="uploadFileandPostToBlockChain();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- gifModal start -->
  <div class="modal fade" id="gifModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title align-center" id="linkModalLabel">Link Gif from Giphy</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="gifLink" style = "border: solid 2px black; color:black;" class="form-control" placeholder="Paste Link Here" rows="1"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="handleUserGif();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- linkModal start -->
  <div class="modal fade" id="linkModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title align-center" id="linkModalLabel">Link to Website</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="link" style = "border: solid 2px black; color:black;" class="form-control" placeholder="Paste Link Here" rows="1"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="handleUserLink();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- userModal start -->
  <div class="modal fade" id="userAccountModal" tabindex="-1" aria-labelledby="userAccountModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userAccountLabel">DISCLAIMER!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- savedPostModal start -->
  <div class="modal fade" id="savedPostModal" tabindex="-1" aria-labelledby="userAccountModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width:35%;max-width:1250px; border-radius: 20px;">
      <div class="modal-content" style="border-radius: 20px; background-color:#313334;">
          <div class="card-header" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                <span style="font-size: 2em; color: white;">
                    <i class="fas fa-user-secret"></i>
                </span>
              </div>
              <div class="col-10">
                <div class="row align-items-start">
                  <h6 style="margin-bottom:0px;">0x4783GW783T74838 posted</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p>18th Oct 5:23 PM</p>
                </div>
              </div>
              <div class="col-1 text-left">
                <span style="font-size: 1.5em; color: grey;">
                    <i class="far fa-star"></i>
                </span>
              </div>
            </div>
          </div>
        <div class="modal-body" style="padding:0px">
          <div class="card-body" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div class="col-12">
              <p>Nullam quis risuse magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula. d nibh ultricies vehicula d nibh ultricies.</p>
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-heart"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-comments"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-share-square"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="fab fa-ethereum"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->

      <div class="row align-items-start" style = "background-color: #112F46; border-radius: 0px 10px 10px 0px;">
        <div class="col-3">
            <h2 style="color: white; margin: 6px 0px 8px 40px">deSocialNet</h2>
        </div>
        <div class="col-4">
        </div>
        <div class="col-1">
        </div>
        <div class="col-1 text-center">
          <span style="font-size: 1.5em; color: red;">
              <i class="fas fa-bell  align-bottom"></i>
          </span>
        </div>
        <div class="col-1 text-center">
            <div class="row align-items-start">
                <div class="col-12 text-end">
          <span style="font-size: 2em; color: white;">
              <i type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" class="fas fa-user-secret"></i>
          </span>
            </div>
          </div>
        </div>
        <div class="col-1">
          <div class="row align-items-start">
            <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" style="margin:5px 0px 0px; color: white">You</h6>
          </div>
          <div class="row align-items-start text-left">
            <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" style = "color: white">0x47886...</h6>
          </div>
        </div>
        <div class="col-1" style = "padding-top: 6px">
          <button type="button" class="btn btn-secondary" onClick="logOut();">Logout</button>
        </div>
      </div>
      <div class="row align-items-start"  style ="padding-top: 0px;">
          <div class="col-3 vh-100" style="background-color: #313334; box-shadow: 0 0px 0px -5px rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
            <div class="card mb-3" style="max-width: 30rem; border-radius: 20px; margin-top: 20px; background-color:#535353;">
              <div class="row align-baseline" style="padding-top: 10px;">
                  <div class="col-3 text-end" style = "padding-right: 0px;">
                    <span style="font-size: 1em; color: white;">
                        <i class="fas fa-home"></i>
                    </span>
                  </div>
                  <div class="col-9 text-left align-bottom">
                    <h6 style="margin-bottom:0px;">Feed</h6>
                  </div>
              </div>
            <div class="card-body" style = "padding: 6px 16px 16px 16px">
              <div class="row align-items-start">
                <div class="col-3">
                </div>
                <div class="col-9">
                  <div class="row align-items-start" style = "padding-left: 30px; border-top: 1px solid white">
                    <h6 style="margin-top:4px;">Trending</h6>
                  </div>
                  <div class="row align-items-start" style = "padding-left: 30px; border-top: 1px solid white">
                    <h6 style="margin-top:4px;">Recent</h6>
                  </div>
                  <div class="row align-items-start" style = "padding-left: 30px; border-top: 1px solid white">
                    <h6 style="margin-top:4px;">Top</h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row align-baseline">
              <div class="col-4 text-end" style = "padding-right: 0px;">
                <span style="font-size: 1em; color: white;">
                    <i class="far fa-eye"></i>
                </span>
              </div>
              <div class="col-8 text-left align-bottom">
                <h6 style="margin-bottom:0px; color:white">Explore</h6>
              </div>
          </div>
          <div class="row align-baseline" style = "padding-top: 10px">
              <div class="col-4 text-end" style = "padding-right: 0px;">
                <span style="font-size: 1em; color: white;">
                  <i class="fas fa-sliders-h"></i>
                </span>
              </div>
              <div class="col-8 text-left align-bottom">
                <h6 style="margin-bottom:0px; color:white">Settings</h6>
                <button type="button" class="btn btn-primary" onClick="uploadFile();">TestButton</button>
              </div>
          </div>
          </div>
          <div class="col-6" style ="padding-top: 20px;">
            <div class="card mb-3" style="border-radius: 20px;  background-color:#313334;">
            <div class="card-header text-center" style ="border-radius: 20px; border: 0px; color:white">Post Something</div>
            <div class="card-body" style ="border-top: 1px solid #535353">
              <div class="row align-items-start">
                <div class="col-1">
                  <span style="font-size: 2em; color: white;">
                      <i class="fas fa-user-secret"></i>
                  </span>
                </div>
                <div id ="textArea" class="col-11">
                  <textarea id="messageToPost" style = "border: solid 1px #535353; background-color:#535353; color:white;" class="form-control" placeholder="Share your thoughts..." rows="1"></textarea>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-1">
                </div>
                <div class="col-6">
                  <span style="font-size: 1.5em; color: white;">
                    <label for='upload'>
                      <i style ="padding-left: 10px;" class="fas fa-images"></i>
                    </label>
                    <input id='upload' type='file' onchange="handleFile(this)" onclick="this.value = null" name="MAX_FILE_SIZE" value="10485760" style="display: none">
                  </span>
                  <span style="font-size: 1.5em; color: white;">
                      <i data-bs-toggle="modal" data-bs-target="#linkModal" style ="padding-left: 10px;" class="fas fa-link"></i>
                  </span>
                  <span style="font-size: 1.5em; color: white;">
                      <i data-bs-toggle="modal" data-bs-target="#gifModal" style ="padding-left: 10px;" class="fas fa-film"></i>
                  </span>

                </div>
                <div class="col-5 text-end">
                  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#postModal" style="background-color: #112F46; border-color:#313334;">
                    Submit
                  </button>

                </div>
              </div>
            </div>
          </div>
          <div class="card mb-3" style="border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); background-color:#313334;">
          <div class="card-header" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                <span style="font-size: 2em; color: white;">
                    <i class="fas fa-user-secret"></i>
                </span>
              </div>
              <div class="col-10">
                <div class="row align-items-start">
                  <h6 style="margin-bottom:0px;">0x4783GW783T74838 posted</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p>18th Oct 5:23 PM</p>
                </div>
              </div>
              <div class="col-1 text-left">
                <span id="greyStar" style="font-size: 1.5em; color: grey;">
                    <i class="far fa-star"></i>
                </span>
              </div>
            </div>
          </div>
          <div class="card-body" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div id="messageContent" class="col-12">
              <p>Nullam quis risuse magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula. d nibh ultricies vehicula d nibh ultricies.</p>
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-heart"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-comments"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="far fa-share-square"></i>
                </a>
              </div>
              <div class="col-3 text-center">
                <a style="font-size: 1.5em; color: white; border-color: #fff">
                  <i class="fab fa-ethereum"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
          </div>
          <div class="col-3" style ="padding-top: 20px;">
            <div class="card mb-3" style="max-width: 30rem; border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); background-color:#313334;">
            <div class="card-header text-center textChange" style ="color:white">Following</div>
            <div class="card-body" style ="border-top: 1px solid #535353">
              <div class="row align-items-start">
                <div id="followerList" class="col-12">
                  <h6 class = "text-center textChange" type="button" data-bs-toggle="modal" data-bs-target="#savedPostModal">nickName  0x252d2623a...</h6>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                  <span style="font-size: 1em; color: white;">
                      <i class="fas fa-plus"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-3" style="max-width: 30rem; border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); background-color:#313334;">
          <div class="card-header text-center" style ="border-radius: 20px; border: 0px; color:white">Saved</div>
          <div class="card-body" style ="border-top: 1px solid #535353">
            <div class="row align-items-start">
              <div id="savedList" class="col-12">
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px;">
              <div class="col-12 text-center">
                <span style="font-size: 1em; color: white;">
                    <i class="fas fa-trash-alt"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
          </div>
      </div>
    </div>

<footer class="text-center text-white" style ="background-color: #112F46;"> <!--#3C719D -->
  <div class="container p-3 align-center">
      <p style="margin:0px">
        Download the Code on Github!       <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
                ><i class="fab fa-github"></i
              ></a>
        Follow me Twitter!       <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
                ><i class="fab fa-twitter"></i
              ></a>
        Connect with me on Linkedin!      <a class="btn btn-outline-light btn-floating m-1" href="#!" role="button"
                ><i class="fab fa-linkedin-in"></i
              ></a>
      </p>
  </div>
</footer>
  </body>
</html>
