<!--
__________         ___.      __   .__             __________        .__ .__       .___
\______   \  ____  \_ |__  _/  |_ |  |__    ____  \______   \ __ __ |__||  |    __| _/  ____  _______
 |    |  _/ /  _ \  | __ \ \   __\|  |  \ _/ __ \  |    |  _/|  |  \|  ||  |   / __ | _/ __ \ \_  __ \
 |    |   \(  <_> ) | \_\ \ |  |  |   Y  \\  ___/  |    |   \|  |  /|  ||  |__/ /_/ | \  ___/  |  | \/
 |______  / \____/  |___  / |__|  |___|  / \___  > |______  /|____/ |__||____/\____ |  \___  > |__|
        \/              \/             \/      \/         \/                       \/      \/
-->
<!doctype html>
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/0af91b369f.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous">
</script>
<title>deSocialNet | Home</title>
<link rel="icon" type="image/x-icon" href="https://ipfs.io/ipfs/QmQoPRH54jyjV2nzGBV5PRvoSkKMpnZHWCYaWSrM3rHrYc?filename=favicon.png">
</head>
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script src="https://npmcdn.com/moralis@latest/dist/moralis.js"></script>
<script>
expandText()

function expandText(){
  $(function() {
    $('textarea').on('input keyup paste', function() {
      var $el = $(this),
          offset = $el.innerHeight() - $el.height();

      if ($el.innerHeight() < this.scrollHeight) {
        // Grow the field if scroll height is smaller
        $el.height(this.scrollHeight - offset);
      } else {
        // Shrink the field and then re-set it to the scroll height in case it needs to shrink
        $el.height(1);
        $el.height(this.scrollHeight - offset);
      }
    });
  });
}
// Global Variables -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------Global Variables-------------------------------
let enableNitro = false;
var file;
var image;
var share;
var gif;
var link;
var following;
var savedPosts;
var mode;
var recipientAddress; // global recipientAddress for donations
var recipientNickname; // global recipient nickname for donations
var userProfileImage;
var darkMode = true;
const kovanWETHTokenAddress ="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2";
const kovanContract = "0xD327d2b9765C69D3dF9ad2d49C3d78FB8821c38B";
const onlineStoreContract = "0x9920C927033edD403aDEe0080F855ceA4257aCEc";
const minterContract = "0x045806a2F15FA26eE7e52c4dab62497e98fa5de4";
const ABI =
[
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "senderAddress",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "postID",
				"type": "uint256"
			}
		],
		"name": "newPost",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "senderAddress",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "recipientAddress",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "time",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "message",
				"type": "string"
			}
		],
		"name": "sendMessageEvent",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "postOwner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postID",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "commentText",
				"type": "string"
			}
		],
		"name": "addComment",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "messageText",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "url",
				"type": "string"
			}
		],
		"name": "addPost",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newCheckInTimeInterval",
				"type": "uint256"
			}
		],
		"name": "changeCheckInTime",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "postNumber",
				"type": "uint256"
			}
		],
		"name": "changeFeaturedPost",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newInheritor",
				"type": "address"
			}
		],
		"name": "changeInheritance",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "bioText",
				"type": "string"
			}
		],
		"name": "changeUserBio",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "newNickName",
				"type": "string"
			}
		],
		"name": "changeUserNickname",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "url",
				"type": "string"
			}
		],
		"name": "changeUserProfilePicture",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "followUser",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postKey",
				"type": "uint256"
			}
		],
		"name": "likePost",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "newProfileBio",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "nickName",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "profileImageUrl",
				"type": "string"
			}
		],
		"name": "newProfile",
		"outputs": [
			{
				"internalType": "bool",
				"name": "success",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "ownerCheckIn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "performUpkeep",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "recipientAddress",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "message",
				"type": "string"
			}
		],
		"name": "sendMessage",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "withdraw",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "contract IERC20",
				"name": "token",
				"type": "address"
			}
		],
		"name": "withdrawErc20",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "checkInTimeInterval",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "checkUpkeep",
		"outputs": [
			{
				"internalType": "bool",
				"name": "upkeepNeeded",
				"type": "bool"
			},
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getAllUserPosts",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "userPosts",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "postOwner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postID",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "commentID",
				"type": "uint256"
			}
		],
		"name": "getComment",
		"outputs": [
			{
				"internalType": "address",
				"name": "commenter",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "message",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "userNickname",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "profileImageUrl",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getTotalUsers",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "totalUsers",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "postKey",
				"type": "uint256"
			}
		],
		"name": "getUserPost",
		"outputs": [
			{
				"internalType": "string",
				"name": "message",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "numberOfLikes",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "url",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "userNickname",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "totalComments",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "userAddress",
				"type": "address"
			}
		],
		"name": "getUserProfile",
		"outputs": [
			{
				"internalType": "string",
				"name": "profileBio",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "totalPosts",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "joinDate",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "followerCount",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "userNickname",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "featuredPost",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "profileImageUrl",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lastCheckIn",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "nextOwner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
const onlineStoreABI =
[
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "buyLargeTokens",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "buyMassiveTokens",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "buyMediumTokens",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "buySmallTokens",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newCheckInTimeInterval",
				"type": "uint256"
			}
		],
		"name": "changeCheckInTime",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newInheritor",
				"type": "address"
			}
		],
		"name": "changeInheritance",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "checkUpkeep",
		"outputs": [
			{
				"internalType": "bool",
				"name": "upkeepNeeded",
				"type": "bool"
			},
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "ownerCheckIn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "performUpkeep",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newPrice",
				"type": "uint256"
			}
		],
		"name": "setLargeStorePrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newPrice",
				"type": "uint256"
			}
		],
		"name": "setMassiveStorePrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newPrice",
				"type": "uint256"
			}
		],
		"name": "setMediumStorePrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newPrice",
				"type": "uint256"
			}
		],
		"name": "setsmallStorePrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "withdraw",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "contract IERC20",
				"name": "token",
				"type": "address"
			}
		],
		"name": "withdrawErc20",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "checkInTimeInterval",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "largePurchaseTokenPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lastCheckIn",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "massivePurchaseTokenPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "mediumPurchaseTokenPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "nextOwner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "smallPurchaseTokenPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
const minterABI =
[
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "approved",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "ApprovalForAll",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "imageURI",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "description",
				"type": "string"
			}
		],
		"name": "addCharacterOne",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "imageURI",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "description",
				"type": "string"
			}
		],
		"name": "addCharacterThree",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "imageURI",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "description",
				"type": "string"
			}
		],
		"name": "addCharacterTwo",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newCheckInTimeInterval",
				"type": "uint256"
			}
		],
		"name": "changeCheckInTime",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "characterID",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "description",
				"type": "string"
			}
		],
		"name": "changeDescription",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newGameAddress",
				"type": "address"
			}
		],
		"name": "changeGameAddress",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "characterID",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "imageURI",
				"type": "string"
			}
		],
		"name": "changeImageURI",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newInheritor",
				"type": "address"
			}
		],
		"name": "changeInheritance",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newMintFee",
				"type": "uint256"
			}
		],
		"name": "changeMintFee",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "NFTID",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "agility",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "strength",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "sneak",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "charm",
				"type": "uint256"
			}
		],
		"name": "changeNFTAttributes",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "characterID",
				"type": "uint256"
			}
		],
		"name": "mintAnyCharacter",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32"
			}
		],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "ownerCheckIn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "performUpkeep",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "requestId",
				"type": "bytes32"
			},
			{
				"internalType": "uint256",
				"name": "randomness",
				"type": "uint256"
			}
		],
		"name": "rawFulfillRandomness",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "bytes",
				"name": "_data",
				"type": "bytes"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "setApprovalForAll",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "withdraw",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "contract IERC20",
				"name": "token",
				"type": "address"
			}
		],
		"name": "withdrawErc20",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "characters",
		"outputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "born",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "agility",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "strength",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "sneak",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "charm",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "characterID",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "checkInTimeInterval",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"name": "checkUpkeep",
		"outputs": [
			{
				"internalType": "bool",
				"name": "upkeepNeeded",
				"type": "bool"
			},
			{
				"internalType": "bytes",
				"name": "",
				"type": "bytes"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "getApproved",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "NFTID",
				"type": "uint256"
			}
		],
		"name": "getNFTAttributes",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "agility",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "strength",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "charm",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "sneak",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "isApprovedForAll",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lastCheckIn",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "mintableNFTCharacterStruct",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "health",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "agility",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "strength",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "sneak",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "charm",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "imageURI",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "description",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "mintFee",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "nextOwner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ownerOf",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "randomResult",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes4",
				"name": "interfaceId",
				"type": "bytes4"
			}
		],
		"name": "supportsInterface",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "tokenURI",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalMintableCharacters",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
const serverUrl = "https://h1fpcthpxdrt.usemoralis.com:2053/server";
const appId = "xNLGUQH5eITa3ybsmQ7Zp2ZbekxAtVRa6umAJ1LZ";
Moralis.start({ serverUrl, appId });
onFirstLoad();



//MINTER FUNCTIONS
async function contractMintAnyCharacter(_name,_characterID) {
  transferAmount = Moralis.Units.ETH("0.002");
  const options = {
    contractAddress: minterContract,
    functionName: "mintAnyCharacter",
    abi:  minterABI,
    params: {
      name: _name,
      characterID: _characterID
    },
    msgValue: transferAmount
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractGetCharacterData(_characterID) {

  let options = {
    contractAddress: minterContract,
    functionName: "characters",
    abi:  minterABI,
    params: {
      "": _characterID
    },
  };
  let receipt = await Moralis.executeFunction(options);
  console.log(receipt);
  console.log(receipt.characterID);
   options = {
    contractAddress: minterContract,
    functionName: "mintableNFTCharacterStruct",
    abi:  minterABI,
    params: {
      "": receipt.characterID
    },
  };
  let characterDetails = await Moralis.executeFunction(options);
  console.log(characterDetails);
  receipt.imageURI = characterDetails.imageURI;
  receipt.description= characterDetails.description;
  console.log(receipt)
  return receipt;
}

// ONLINE STORE functions
async function contractBuySmallTokens() {
  transferAmount = Moralis.Units.ETH("0.000025");
  const options = {
    contractAddress: onlineStoreContract,
    functionName: "buySmallTokens",
    abi: onlineStoreABI,
    msgValue: transferAmount
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractBuyMediumTokens() {
  transferAmount = Moralis.Units.ETH("0.00004");
  console.log(transferAmount)
  const options = {
    contractAddress: onlineStoreContract,
    functionName: "buySmallTokens",
    abi: onlineStoreABI,
    msgValue: transferAmount
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractBuyLargeTokens() {
  transferAmount = Moralis.Units.ETH("0.00015");
  const options = {
    contractAddress: onlineStoreContract,
    functionName: "buySmallTokens",
    abi: onlineStoreABI,
    msgValue: transferAmount
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}

// MORALIS CONTRACT FUNCTIONS
async function contractNewProfile(_profileBio,_nickName,_profileImageUrl) {
  const options = {
    contractAddress: kovanContract,
    functionName: "newProfile",
    abi: ABI,
    params: {
      newProfileBio: _profileBio,
      nickName: _nickName,
      profileImageUrl: _profileImageUrl
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
}
async function contractAddPost(_messageText,_messageURL) {
  const options = {
    contractAddress: kovanContract,
    functionName: "addPost",
    abi: ABI,
    params: {
      messageText: _messageText,
      url: _messageURL
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  renderSocialFeedPage();
}
async function contractGetUserProfile(_userAddress) {
  const options = {
    contractAddress: kovanContract,
    functionName: "getUserProfile",
    abi: ABI,
    params: {
      userAddress: _userAddress
    },
  };
  const receipt = await Moralis.executeFunction(options);
  return receipt; // return the data
}
async function contractLikePost(_userAddress, _postID) {
  const options = {
    contractAddress: kovanContract,
    functionName: "likePost",
    abi: ABI,
    params: {
      userAddress: _userAddress,
      postKey:  _postID
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
}
async function contractGetUserPost(_userAddress, _postID) {
  const options = {
    contractAddress: kovanContract,
    functionName: "getUserPost",
    abi: ABI,
    params: {
      userAddress: _userAddress,
      postKey: _postID
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractSendMessage(_userAddress, _messageText) {
  const options = {
    contractAddress: kovanContract,
    functionName: "sendMessage",
    abi: ABI,
    params: {
      recipientAddress: _userAddress,
      message: _messageText
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractChangeUserBio(_bioText) {
  const options = {
    contractAddress: kovanContract,
    functionName: "changeUserBio",
    abi: ABI,
    params: {
      bioText: _bioText
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractFollowUser(_userAddress) {
  const options = {
    contractAddress: kovanContract,
    functionName: "followUser",
    abi: ABI,
    params: {
      userAddress: _userAddress
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractChangeUserNickname(_nickName) {
  const options = {
    contractAddress: kovanContract,
    functionName: "changeUserNickname",
    abi: ABI,
    params: {
      newNickName: _nickName
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractChangeFeaturedPost(_postNumber) {
  const options = {
    contractAddress: kovanContract,
    functionName: "changeFeaturedPost",
    abi: ABI,
    params: {
      postNumber: _postNumber
    },
  };
  const receipt = await Moralis.executeFunction(options);
  return receipt;
}
async function contractAddComment(_postAddress, _postID, _commentText) {
  const options = {
    contractAddress: kovanContract,
    functionName: "addComment",
    abi: ABI,
    params: {
      postOwner: _postAddress,
      postID: _postID,
      commentText: _commentText
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractGetComment(_postAddress, _postID, _commentID) {
  const options = {
    contractAddress: kovanContract,
    functionName: "getComment",
    abi: ABI,
    params: {
      postOwner: _postAddress,
      postID: _postID,
      commentID: _commentID
    },
  };
    const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractGetAllUserPosts(_userAddress) {
  const options = {
    contractAddress: kovanContract,
    functionName: "getAllUserPosts",
    abi: ABI,
    params: {
      userAddress: _userAddress
    },
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}
async function contractGetTotalUsers() {
  const options = {
    contractAddress: kovanContract,
    functionName: "getTotalUsers",
    abi: ABI,
  };
  const receipt = await Moralis.executeFunction(options);
  console.log(receipt)
  return receipt;
}

async function moralisGetMessages(_userAddress) {
  const Messaging = Moralis.Object.extend("Messaging");
  const query = new Moralis.Query(Messaging);

  query.equalTo("recipientAddress", _userAddress);
  const receipt = await query.find();
  console.log(receipt)
  return receipt;
}
async function moralisGetNFTs(){
  userAddress = await currentUser.get("accounts");
  userAddress = userAddress[0];
  const options = { chain: 'kovan', address: userAddress, token_address: minterContract };
  const ethereumNFTs = await Moralis.Web3API.account.getNFTsForContract(options);
  return ethereumNFTs.result;
}
async function moralisGetPosts() {
  const posts = Moralis.Object.extend("Posts");
  const query = new Moralis.Query(posts);
  //let unixTime = Math.floor(Date.now() / 1000); /
  //unixTime = unixTime - 86400 // in the last day
  //query.greaterThan("time", unixTime);
  query.limit(25);
  const receipt = await query.find();
  console.log(receipt)
  return receipt;
}
async function uploadFileandPostToBlockChain() {
  const data = file; // pull from global variable
  const message = document.getElementById("messageToPost").value;
  if (message.length > 46 & enableNitro == true){
          let IPFSURL;
          if (data) {
            const moralisFile = new Moralis.File(data.name, data)
            const receipt = await moralisFile.saveIPFS();
            IPFSURL = moralisFile.hash()
          }
          if (image) {
            const moralisFile = new Moralis.File(image.name, image)
            const receipt = await moralisFile.saveIPFS();
            let fileHash = "Img:";
            IPFSURL = fileHash.concat(moralisFile.hash());
          }
          if (gif){
            let gifSource = document.getElementById("gifSource").src;
            gifSource = gifSource.replace('https://media.giphy.com/media/', '');
            IPFSURL = gifSource.replace('/giphy.gif', '');
          }
          if (share){
            let address = document.getElementById("attachment").getAttribute("address");
            let postID = document.getElementById("attachment").getAttribute("postID");
            let url = "Post:";
            url = url.concat(address);
            url = url.concat(",");
            IPFSURL = url.concat(postID);
          }
          const object = {
          "message" : message,
          "url" : IPFSURL
          }
          file = new Moralis.File("post.json", {base64 : btoa(JSON.stringify(object))});
          let result = await file.saveIPFS();
          let fileHash = "IPFS:";
          console.log("sending via nitro");
          fileHash = fileHash.concat(file.hash());
          contractAddPost(fileHash," ") //Save to BlockChain
          console.log(fileHash);
          document.getElementById("messageToPost").value = ""; // reset text Box
          file = false; // file or gif no longer exists
          gif = false;
          share = false;
          image = false;
          var textArea = document.getElementById("textArea");
          textArea.removeChild(textArea.lastElementChild);
          return true;
  }
  // *IMPORTANT* Check to see if file exists or not*
  if (data) {
    const moralisFile = new Moralis.File(data.name, data)
    const receipt = await moralisFile.saveIPFS();
    let result = contractAddPost(message,moralisFile.hash()) //Save to BlockChain
    var textArea = document.getElementById("textArea");
    textArea.removeChild(textArea.lastElementChild);
  }
  else if (image) {
    const moralisFile = new Moralis.File(image.name, image)
    const receipt = await moralisFile.saveIPFS();
    let fileHash = "Img:";
    fileHash = fileHash.concat(moralisFile.hash());
    console.log(fileHash);
    contractAddPost(message,fileHash) //Save to BlockChain
    var textArea = document.getElementById("textArea");
    textArea.removeChild(textArea.lastElementChild);
  }
  else if (gif){
    let gifSource = document.getElementById("gifSource").src;
    gifSource = gifSource.replace('https://media.giphy.com/media/', '');
    gifSource = gifSource.replace('/giphy.gif', '');
    let result = contractAddPost(message,gifSource) //Save to BlockChain
    var textArea = document.getElementById("textArea");
    textArea.removeChild(textArea.lastElementChild);
  }
  else if (share){
    let address = document.getElementById("attachment").getAttribute("address");
    let postID = document.getElementById("attachment").getAttribute("postID");
    let url = "Post:";
    url = url.concat(address);
    url = url.concat(",");
    url = url.concat(postID);
    console.log(url);
    contractAddPost(message,url) //Save to BlockChain
    var textArea = document.getElementById("textArea");
    textArea.removeChild(textArea.lastElementChild);
  }
  else{
    contractAddPost(message," ") //Save to BlockChain.
  }
  document.getElementById("messageToPost").value = ""; // reset text Box
  file = false; // file or gif no longer exists
  gif = false;
  share = false;
  image = false;
  return true;
}
async function createUserProfile() {
  const newProfileBio = document.getElementById("newProfileBio").value;
  const newUsername = document.getElementById("newUsername").value;
  if (userProfileImage) {
    const moralisFile = new Moralis.File(userProfileImage.name, userProfileImage)
    const receipt = await moralisFile.saveIPFS();
    let userProfileImageHash = moralisFile.hash()
    console.log(userProfileImageHash);
    console.log(userProfileImage.name);
    console.log(newProfileBio);
    console.log(newUsername);
    let result = await contractNewProfile(newProfileBio,newUsername,userProfileImageHash); //Save to BlockChain
    console.log(result);
  }
  else{
    console.log(newProfileBio);
    console.log(newUsername);
    let result = contractNewProfile(newProfileBio,newUsername, " ")
    console.log(result);
  }
  let result = await renderUserProfileTopRight();
  document.getElementById("loginForm").style.display = "none";
  document.getElementById("newAccount").style.display = "none";
  document.getElementById("mainPage").style.display = "block";
  getUserPreferences() // user Preferences are then assigned to global variables
  userProfileImage = false;
  file = false; // file or gif no longer exists
  gif = false;
  share = false;
  image = false;
  return true;
}

async function changeUserProfileNickname(){
  const newUsername = document.getElementById("newUsernameSettings").value;
  let result = await contractChangeUserNickname(newUsername)
  console.log(result);
  document.getElementById("newUsernameSettings").value = "";
  renderUserProfileTopRight()
}
async function changeUserProfileBio(){
  const newProfileBio = document.getElementById("newProfileBioSettings").value;
  let result = await contractChangeUserBio(newProfileBio);
  console.log(result);
  document.getElementById("newProfileBioSettings").value = "";
}
async function changeUserProfilePicture(){
  if (userProfileImage) {
    const moralisFile = new Moralis.File(userProfileImage.name, userProfileImage)
    const receipt = await moralisFile.saveIPFS();
    let userProfileImageHash = moralisFile.hash()
    console.log(userProfileImageHash);
    console.log(userProfileImage.name);
    console.log(newProfileBio);
    console.log(newUsername);
    let result = await ontractChangeUserBio(userProfileImageHash); //Save to BlockChain
    console.log(result);
    userProfileImage = false;
  }
}

async function mintAnyCharacter(_name,_characterID){
  let result = contractMintAnyCharacter(_name,_characterID);
  console.log(result);
}

async function donateEthereum() { //_recieverAddress, _amount

  let options = {address: kovanWETHTokenAddress, chain: "eth", exchange:"sushiswap"};
  const usdPrice = await Moralis.Web3API.token.getTokenPrice(options);
  let amount = document.getElementById("donationAmount").value;
  let donationAmount = amount/usdPrice.usdPrice;
  console.log(usdPrice.usdPrice);
  console.log(recipientAddress);
  console.log(donationAmount);
  donationAmount = Moralis.Units.ETH(donationAmount); //make sure its converted to proper units
  console.log(donationAmount);
  options = {type: "native", amount: donationAmount , receiver: recipientAddress};
  console.log(options);
  const receipt = await Moralis.transfer(options)
  console.log(receipt);
  return receipt;
}
async function login() {
  console.log("login attempted");
  let user = await Moralis.User.current();
  if (!user) {
    user = await Moralis.authenticate();
    address = user.get("accounts");
    address = address[0];
    userProfile = await contractGetUserProfile(address);
    if (userProfile.joinDate == "0"){
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "block";
      document.getElementById("mainPage").style.display = "none";
    }
    else{
      let result = await renderUserProfileTopRight();
      result = await renderSocialFeedPage();
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
      getUserPreferences() // user Preferences are then assigned to global variables
    }
   }
  else{
    let result = await renderUserProfileTopRight();
    result = await renderSocialFeedPage();
    document.getElementById("loginForm").style.display = "none";
    document.getElementById("newAccount").style.display = "none";
    document.getElementById("mainPage").style.display = "block";
    getUserPreferences() // user Preferences are then assigned to global variables
  }
  console.log("logged in user:", user);
}
async function logOut() {
  try{
      let result = await Moralis.User.logOut();
  }
  catch{
    //in case they already got autologgedoff
  }
  document.getElementById("loginForm").style.display = "block";
  document.getElementById("mainPage").style.display = "none";
  document.getElementById("newAccount").style.display = "none";
  console.log("logged out");
}
async function onFirstLoad() {
  const web3 = await Moralis.enableWeb3();
  let user = await Moralis.User.current();
  if (!user) {
    document.getElementById("loginForm").style.display = "block";
    document.getElementById("mainPage").style.display = "none";
    document.getElementById("newAccount").style.display = "none";
    user = await Moralis.authenticate();
    address = user.get("accounts");
    address = address[0];
    userProfile = await contractGetUserProfile(address);
    if (userProfile.joinDate == "0"){ // user hasn't create profile yet
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "block";
      document.getElementById("mainPage").style.display = "none";
    }
    else{
      let result = await renderUserProfileTopRight();
      result = await renderSocialFeedPage();
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
      getUserPreferences() // user Preferences are then assigned to global variables
    }

   }
  else{
    address = user.get("accounts");
    address = address[0];
    userProfile = await contractGetUserProfile(address);
    if (userProfile.joinDate == "0"){ // user hasn't create profile yet
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "block";
      document.getElementById("mainPage").style.display = "none";
    }
    else{
      let result = await renderUserProfileTopRight();
      result = await renderSocialFeedPage();
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("newAccount").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
      getUserPreferences() // user Preferences are then assigned to global variables
    }

  }
  console.log("logged in user:", user);
}

function sendMessage(){
  let recipientOfMessage = document.getElementById('inboxToAddress').value;
  let messageBody = document.getElementById('inboxMessage').value;
  contractSendMessage(recipientOfMessage, messageBody)
  $('#inboxModal').modal('hide'); //hide modal
  console.log(recipientOfMessage);
  console.log(messageBody);
}
function addComment(_commentAddress,_postID){
  let postIDHTML = _commentAddress.concat(_postID); //this creates the unqiueID in which we reference the html.
  let userCommentMessage = postIDHTML.concat('userCommentTextInput'); //this further creates the unqiueID in which we reference the html.
  let messageBody = document.getElementById(userCommentMessage).value;
  contractAddComment(_commentAddress, _postID, messageBody)
  console.log(_commentAddress);
  console.log(_postID);
  console.log(messageBody);
}
function addModalComment(_commentAddress,_postID){
  let postIDHTML = _commentAddress.concat(_postID); //this creates the unqiueID in which we reference the html.
  postIDHTML = postIDHTML.concat("modal"); //this creates the unqiueID in which we reference the html.
  let userCommentMessage = postIDHTML.concat('userCommentTextInput'); //this further creates the unqiueID in which we reference the html.
  let messageBody = document.getElementById(userCommentMessage).value;
  contractAddComment(_commentAddress, _postID, messageBody)
  console.log(_commentAddress);
  console.log(_postID);
  console.log(messageBody);
}
function replytoMessage(_receiver){
  $('#inboxModalBody').scrollTop(0);
  document.getElementById('inboxToAddress').value = _receiver;
  document.getElementById("inboxMessage").focus();
}

function donationAddress(_recieverAddress,_recieverNickname){
  recipientAddress = _recieverAddress; // sets the global variables
  recipientNickname = _recieverNickname; // sets the global variables
  var addressShort = recipientAddress.slice(0, 20); // makes the address easier to read
  addressShort = addressShort.concat("..."); // makes the address easier to read
  document.getElementById('donationRecipient').textContent = recipientNickname + " @  " + addressShort //fills in the text for the donationModal
  $('#savedPostModal').modal('hide'); //hide other modal
  $('#userAccountModal').modal('hide'); //hide other modal
}

function followNewUser(){
  let newFollowing = document.getElementById("followAddress").value;
  console.log(newFollowing);
  updateUserPreferences(newFollowing, "follow") // tell Moralis user is following new person
  contractFollowUser(newFollowing) // follow user on smart contract. They can deny transaction and still have user preference
}
function updateUserPreferences(_data, _action){
  const userPreferences = Moralis.User.current();
  console.log("sending to moralis",_data)
  switch(_action){
    case "unfollow":
        userPreferences.remove("following",_data); //Array of Addresses. Example [0x489489839, 0x59839279,0x58943]
        break;
    case "follow":
        userPreferences.addUnique("following",_data); //Array of Addresses. Example [0x489489839, 0x59839279,0x58943]
        console.log("Moralis followed uploaded");
        break;
    case "login":
        userPreferences.set("lastLogin",_data); //Array of Addresses. Example [0x489489839, 0x59839279,0x58943]
        console.log("Moralis last login updated");
        break;
    case "modeChange":
        userPreferences.set("mode",_data); //Either "Light" or "dark"
        break;
    case "savePost":
        userPreferences.addUnique("savedPosts",_data); //Array of Addresses with Post ID. Example [[0x578783,4],[0x57846,5]]
        break;
    case "unSavePost":
        userPreferences.remove("savedPosts",_data); //Array of Addresses with Post ID. Example [[0x578783,4],[0x57846,5]]
        $('#savedPostModal').modal('hide'); //hide other modal
        break;
    default:
      //do nothing
  }
  userPreferences.save()
  .then((userPreferences) => {
  getUserPreferences() //refreshUserPreferences
   }, (error) => {

  alert('Failed to create new object, with error code: ' + error.message);
});
}
async function getUserPreferences() { // only time this should be called is on a page refresh or on change of userPreferences
  userPreferences = await Moralis.User.current();
  following = await userPreferences.get("following");
  savedPosts = await userPreferences.get("savedPosts");
  console.log(savedPosts);
  mode = await userPreferences.get("mode");
  let result = await renderSaved(savedPosts); // replace with "savedPosts" on launch;
  result = await renderFollowing(following);
  if (mode=="light"){
    //toggleLightMode();
  }
  else{
    //toggleDarkMode();
  }
}
async function getBellColor() { // only time this should be called is on a page refresh or on change of userPreferences
  currentUser = await Moralis.User.current();
  lastLogin = await currentUser.get("lastLogin");
  address = currentUser.get("accounts");
  address = address[0];
  let lastMessageTime = 0;
  allMessages = await moralisGetMessages(address);
  for (let i=(allMessages.length-1); i>-1; i--){ // check the last timestamp
    const object = allMessages[i];
    let timestamp = object.get('time');
    if (timestamp >= lastMessageTime){
      lastMessageTime = timestamp;
    }
  }
  if (lastLogin == undefined){
    let bellHTML = `<span id="bellColor" class="iconColor" style="font-size: 1.75em; margin-top:2px; color:red;">
                    <i class="fas fa-bell"></i>
                      </span>`;
    return bellHTML
  }
  if (lastLogin < lastMessageTime ){
    let bellHTML = `<span id="bellColor" class="iconColor" style="font-size: 1.75em; margin-top:2px; color:red;">
                    <i class="fas fa-bell"></i>
                      </span>`;
    return bellHTML
  }
  else{
    let bellHTML = `<span id="bellColor" class="iconColor" style="font-size: 1.75em; margin-top:2px;">
                    <i class="fas fa-bell"></i>
                      </span>`
    return bellHTML;
  }
}

function toggleLightMode() {
  if (darkMode == true){
    const style = document.createElement('style');
    document.getElementById("logoSideBar").src="https://ipfs.io/ipfs/Qmdfd7qFcfdUrFqwdzxuaFxXGy2GbC1rdCYsLn2ByW1wg8?filename=logoLightMode.png";
    document.getElementById("loginLogo").src="https://ipfs.io/ipfs/Qmdfd7qFcfdUrFqwdzxuaFxXGy2GbC1rdCYsLn2ByW1wg8?filename=logoLightMode.png";
    document.getElementById("supportUsLogo").src="https://ipfs.io/ipfs/Qmdfd7qFcfdUrFqwdzxuaFxXGy2GbC1rdCYsLn2ByW1wg8?filename=logoLightMode.png";
    style.innerHTML = `
      .textChange {
          color: black;
      }
      .boxesColor {
        background-color:#FCFCFC;
      }
      .boxesShadow {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      }
      .boxesLine {
        border-top: 1px solid #535353
      }
      .boxesLineTop {
        border-bottom: 1px solid #535353
      }
      .textAreaTheme {
        border: solid 1px #FCFCFC;
        background-color:#FCFCFC; color:white;
      }
      .backgroundColor{
        background-color:#F1F4F5;
      }
      .backgroundColorSideBar{
        background-color:#D7D7D7;
        box-shadow: 0 0px 0px 0px rgba(0, 0, 0, 0);
      }
      .backgroundColorNavBar{
        background-color:#fff;
      }
      .iconColor{
        color:#3E3E3E;
      }
      .iconColor{
        color:#3E3E3E;
      }
      .changeButtonColor{
        background-color: #112F46;
        border-color: #112F46;
      }
      .changeButtonTextColor{
        color: #fff;
      }
      .changeButtonTextColor:hover{
        color: #fff;
      }
      .changeButtonColor:hover{
        background-color: #112F46;
        border-color:  #112F46;
      }
      .btn:focus{
        background-color: #112F46;
        border-color: #112F46;
        box-shadow: none!important;
        outline: 0;
      }
      .textBox{
        border: solid 1px #535353;
        background-color: #fff;
        color: black;
        font-size: 18px;
      }
      .textBox:focus{
        border: solid 1px #535353;
        background-color: #fff;
        color: black;
        font-size: 18px;
      }
      .boxesBioColor{
        background-color:#D7D7D7 ;
      }
      .boxesCommentColor{
        background-color:#F0F0F0 ;
      }
  `;
    document.head.appendChild(style);
    darkMode = false;
  }

  else{

    const style = document.createElement('style');
    document.getElementById("logoSideBar").src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png";
    document.getElementById("loginLogo").src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png";
    document.getElementById("supportUsLogo").src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png";
    style.innerHTML =
        `
        .fa-thumbtack:hover {
          color: #4599A8;
          cursor: pointer;
        }
        .fa-reply:hover {
          color: #13B0E5;
          cursor: pointer;
        }
        .fa-user-friends:hover {
          color: #ED2828;
          cursor: pointer;
        }
        .fa-star:hover {
          color: #E0D836;
          cursor: pointer;
        }
        .starFilledIn {
          color: #E0D836;
          cursor: pointer;
        }
        .heartFilledIn {
          color: #ED2828;
          cursor: pointer;
        }
        .fa-heart:hover {
          color: #ED2828;
          cursor: pointer;
        }

        .fa-comments:hover {
          color: grey;
          cursor: pointer;
        }
        .fa-share-square:hover {
          color: #3652E0;
          cursor: pointer;
        }
        .fa-ethereum:hover {
          color: green;
          cursor: pointer;
        }
        .fa-trash-alt:hover {
          color: #ED2828;
          cursor: pointer;
        }
        .fa-plus:hover {
          color: #4599A8;
          cursor: pointer;
        }

        .fa-images:hover {
          color: #4599A8;
          cursor: pointer;
        }
        .fa-file-alt:hover {
          color: #4599A8;
          cursor: pointer;
        }
        .fa-film:hover {
          color: #4599A8;
          cursor: pointer;
        }
        .fa-smile:hover {
          color: #4599A8;
          cursor: pointer;
        }
        #socialFeedHover:hover .fa-home{
          color: #4599A8 !important;
          cursor: pointer;
        }
        #socialFeedHover:hover .textChange{
          color: #4599A8 !important;
          cursor: pointer;
        }
        #explorePageHover:hover .fa-eye{
          color: #3652E0 !important;
          cursor: pointer;
        }
        #explorePageHover:hover .textChange{
          color: #3652E0 !important;
          cursor: pointer;
        }

        #settingsPageHover:hover .fa-sliders-h{
          color:#576EEB !important;
          cursor: pointer;
        }
        #settingsPageHover:hover .textChange{
          color:#576EEB !important;
          cursor: pointer;
        }

        #shopPageHover:hover .fa-gem{
          color:#ED2828 !important;
          cursor: pointer;
        }
        #shopPageHover:hover .textChange{
          color:#ED2828 !important;
          cursor: pointer;
        }
        #playPageHover:hover .fa-gamepad{
          color:green !important;
          cursor: pointer;
        }
        #playPageHover:hover .textChange{
          color:green !important;
          cursor: pointer;
        }
        #walletPageHover:hover .fa-wallet{
          color:#C02EAE !important;
          cursor: pointer;
        }
        #walletPageHover:hover .textChange{
          color:#C02EAE !important;
          cursor: pointer;
        }

        .form-control:focus {
          outline: none !important;
          border:1px solid red;
          box-shadow: 0 0 10px #719ECE;
        }
        .neonAnimated {
          outline: none !important;
          box-shadow: 0 0 10px #719ECE;
          animation-name: neonGlow;
          animation-duration: 4s;
          animation-iteration-count: infinite;
        }
        @keyframes neonGlow {
          0% {box-shadow: 0 0 10px #719ECE;}
          12% {box-shadow: 0 0 20px  #719ECE;}
          25% {box-shadow: 0 0 10px #719ECE;}
        }
        .neon {
          outline: none !important;
          box-shadow: 0 0 10px #719ECE;
        }
        .neonStrong {
          outline: none !important;
          box-shadow: 0 0 20px #FAF41E;
        }
        .neon-white {
          outline: none !important;
          box-shadow: 0 0 10px #fff;
        }
        .textChange {

          color: #D6D6D6;
        }
        .iconColor {
          color: #D6D6D6;
        }
        .btn:hover {
          outline: none !important;
          box-shadow: 0 0 10px rgb(129,143,225);
        }
        .btn:focus{
          background-color: #535353;
          border-color: #535353;
          box-shadow: none!important;
          outline: 0;
        }
        .boxesColor {
          background-color:#313334;
        }
        .boxesBioColor{
          background-color:#535353;
        }
        .boxesCommentColor{
          background-color:#535353;
        }
        .boxesLine {
          border-top: 1px solid #535353
        }
        .boxesLineTop {
          border-bottom: 1px solid #535353
        }
        .textAreaTheme {
          border: solid 1px #535353;
          background-color:#535353; color:white;
        }
        .changeSushiButtonTextColor{
          color: #D6D6D6;
        }
        .changeButtonColor{
          background-color: #535353;
          border-color: #535353;
        }
        .changeButtonColor:hover{
          background-color: #535353;
          border-color: #535353;
        }
        .changeButtonTextColor{
          color: rgb(129,143,225)
        }
        .changeButtonTextColor:hover{
          color: rgb(129,143,225)
        }
        .boxesShadow {
          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }
        .backgroundColor{
          background-color: #1D1D1F
        }

        .backgroundColorSideBar{
          background-color: #313334;
          box-shadow: 0 0px 0px -5px rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }
        .backgroundColorNavBar{
          background-color: #112F46;
        }
        .textBox{
          border: solid 1px #535353;
          background-color:#535353;
          color:white;
          font-size: 18px;
        }
        .textBox:focus{
          border: solid 1px #535353;
          background-color:#535353;
          color:white;
          font-size: 18px;
        }
        div.sticky {
          position: -webkit-sticky; /* Safari */
          position: sticky;
          top: 0;
        }


        .middle {
          position: absolute;
          top: 50%;
          left: 51%;
          color: white;
          font-size: 25px;
        }

        .btn-close{
        filter: invert(24%) sepia(89%) saturate(6838%) hue-rotate(356deg) brightness(103%) contrast(96%);
        }
        a {
          text-decoration: none;
          color: black;
        }
        a:hover {
          color: #D6D6D6;
        }
        p {
          color: white;
        }
        h6 {
          color: white;
        }
        textarea{
          overflow-y: hidden;
        }

        :root {
          /* Set neon color */
          --neon-text-color: #f40;
          --neon-border-color: #08f;
        }
        .neonSign{
          font-family: 'Exo 2', sans-serif;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 2vh;
          font-size: 4rem;
          font-weight: 200;
          font-style: italic;
          color: #fff;
          padding: 2rem 6rem 2rem;
          border: 0.4rem solid #fff;
          border-radius: 2rem;
          text-transform: uppercase;
          animation: flicker 1.5s infinite alternate;
        }

        /* Animate neon flicker */
        @keyframes flicker {

            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {

                text-shadow:
                    -0.2rem -0.2rem 1rem #fff,
                    0.2rem 0.2rem 1rem #fff,
                    0 0 2rem var(--neon-text-color),
                    0 0 4rem var(--neon-text-color),
                    0 0 6rem var(--neon-text-color),
                    0 0 8rem var(--neon-text-color),
                    0 0 10rem var(--neon-text-color);

                box-shadow:
                    0 0 .5rem #fff,
                    inset 0 0 .5rem #fff,
                    0 0 2rem var(--neon-border-color),
                    inset 0 0 2rem var(--neon-border-color),
                    0 0 4rem var(--neon-border-color),
                    inset 0 0 4rem var(--neon-border-color);
            }
            20%, 24%, 55% {
                text-shadow: none;
                box-shadow: none;
            }
        }
        pre {
            white-space: pre-wrap;       /* Since CSS 2.1 */
            white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
            white-space: -pre-wrap;      /* Opera 4-6 */
            white-space: -o-pre-wrap;    /* Opera 7 */
            word-wrap: break-word;       /* Internet Explorer 5.5+ */
  `;
    document.head.appendChild(style);
    darkMode = true;
  }
}
function toggleNitroGas(){
  if (enableNitro == true){
    enableNitro = false;
  }
  else{
    enableNitro = true;
  }
  console.log(enableNitro);
}
// EMOJIS -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------EMOJIS-------------------------------
function insertEmoji(_emoji){
  document.getElementById("messageToPost").value += _emoji;
  document.getElementById("smileyBox").style.display = "none";
}
function showEmojiBox(){
  let visible = document.getElementById("smileyBox").style.display;
  if (visible == "none"){
      document.getElementById("smileyBox").style.display = "block";
  }
  else{
      document.getElementById("smileyBox").style.display = "none";
  }
}


// HANDLING FILES/LINKS -----------------------------------------------------------------------------------------------------------------------------------------------------------HANDLING FILES/LINKS-------------------------------
function handleUserFile(_input) {
  deleteFile(); // delete any file previously there since only one is uploaded at a time
  file = _input.files[0]; //input.files[0];
  document.getElementById("messageToPost").focus();
  console.log("new file");
  gif = false;
  share = false;
  image = false;
  const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after for user experience
  document.getElementById("textArea").innerHTML +=
    `
    <div id="attachment" class="row align-items-start">
      <div class="col-4">
          <p style = "margin: 10px 0px 0px"><em>${file.name}</em></p>
      </div>
      <div class="col-1" style="margin: 10px 0px 0px">
          <button type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
    </div>`; // Profile Overview in the Modal
  document.getElementById("messageToPost").value = message;
}
function handleUserImage(_input) {
  deleteFile(); // delete any file previously there since only one is uploaded at a time
  image = _input.files[0]; //input.files[0];
  preRender =  URL.createObjectURL(image);
  console.log(image);
  document.getElementById("messageToPost").focus();
  console.log("new file");
  gif = false;
  share = false;
  file = false;
  const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after for user experience
  document.getElementById("textArea").innerHTML +=
    `
    <div id="attachment" class="row align-items-start">
      <div class="col-11">
            <img id="attachment" src="${preRender}" style="display: block; margin:auto; padding:20px 0px 20px 0px" width="30%">
      </div>
      <div class="col-1" style="margin: 10px 0px 0px">
          <button type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
    </div>`; // Profile Overview in the Modal
  document.getElementById("messageToPost").value = message;
}
async function handleUserShare(address, postID) {
  deleteFile();
  $('#savedPostModal').modal('hide'); //hide other modal
  $('#userAccountModal').modal('hide'); //hide other modal
  window.scrollTo(0, 0);
  document.getElementById("messageToPost").focus();
  console.log("New Share");
  gif = false;
  file = false;
  share = true;
  var addressShort = address.slice(0, 10);
  addressShort = addressShort.concat("...");

  const userProfile = await contractGetUserProfile(address); // get userProfile
  let profileImageURl;
  if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
  profileImageURl  =
  `
  <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:2px; margin-left:0px" width="40" height="40">
  `
  }
  else{
  profileImageURl =`
  <span class="iconColor" style="font-size: 2em;">
      <i class="fas fa-user-secret"></i>
  </span>
    `;
  }

  const postInformation = await contractGetUserPost(address, postID); // get post information
  let message = postInformation.message;
  let timeStamp = getLocalTime(postInformation.timestamp);
  let url = postInformation.url;
  let numberOfLikes = postInformation.numberOfLikes;
  let totalComments = postInformation.totalComments;
  let nickName = postInformation.userNickname;
  let gifLinkHTML = await returnLinksGifsHTML(url)
  const messageToPost = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
  document.getElementById("textArea").innerHTML +=
  `
  <div id="attachment" address="${address}" postID="${postID}"  class="row align-items-start">
  <div class="col-11">
  <div class="card mb-3 boxesBioColor boxesShadow" style="border-radius: 20px; margin-top:20px">
  <div class="card-header boxesBioColor" style ="border-radius: 20px; border: 0px;">
    <div class="row align-items-start">
      <div class="col-1">
        ${profileImageURl}
      </div>
      <div class="col-10">
        <div class="row align-items-start">
          <h6 class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
        </div>
        <div class="row align-items-start text-left">
          <p class="textChange" >${timeStamp}</p>
        </div>
      </div>
      <div class="col-1 text-left">
      </div>
    </div>
  </div>
  <div class="card-body boxesLine" id="0x570" style ="border-top: 1px solid #D6D6D6">
    <div class="row align-items-start">
      <div id="messageContent" class="col-12">
      <p class="textChange">${message}</p>${gifLinkHTML}
      </div>
    </div>
  </div>
  </div>
  </div>
  <div class="col-1" style="margin: 10px 0px 0px">
      <button type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
 </div>
  `; // Profile Overview in the Modal
  document.getElementById("messageToPost").value = messageToPost;
}
function handleUserGif() {
  deleteFile();
  console.log("New Gif");
  gif = true;
  file = false;
  share = false;
  image = false;
  document.getElementById("messageToPost").focus();
  const gifLink = document.getElementById("gifLink").value;
  const message = document.getElementById("messageToPost").value; // adding of file below deletes the value in the text area. this saves it and adds it back in after.
  document.getElementById("textArea").innerHTML +=
    `
    <div id="attachment" class="row align-items-start">
      <div class="col-11">
        <div style="background-color: black; border-radius:20px">
        <img id="gifSource" src="${gifLink}" style="display: block; margin:20px auto; padding:0px 0px 0px 0px" width="50%">
        </div>
        </div>
    <div class="col-1" style="margin: 10px 0px 0px">
        <button type="button" class="btn-close" onclick="deleteFile()" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    `; // Profile Overview in the Modal
  document.getElementById("messageToPost").value = message;
}
async function returnLinksGifsHTML(url) { //rendering for the users links and gifs
  if (url == " " || url == ""){ //nothing attached to the message
    return url
  }
  let whatever = url;
  let urlSlice = whatever.slice(0,5);
  let imageSlice = whatever.slice(0,4);
  console.log(urlSlice);
  console.log(url)
  if (urlSlice == "Post:"){
    let linkSplit = whatever.split(",");
    let postID = ""+linkSplit[1]
    let address = ""+linkSplit[0].slice(-42);
    console.log(address);
    var addressShort = address.slice(0, 10);
    addressShort = addressShort.concat("...");
    const postInformation = await contractGetUserPost(address, postID); // get post information

    const userProfile = await contractGetUserProfile(address); // get userProfile
    let profileImageURl;
    if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
    profileImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:2px; margin-left:0px" width="40" height="40">
    `
    }
    else{
    profileImageURl =`
    <span class="iconColor" style="font-size: 2em;">
        <i class="fas fa-user-secret"></i>
    </span>
      `;
    }

    let message = postInformation.message;
    let timeStamp = getLocalTime(postInformation.timestamp);
    let url = postInformation.url;
    let numberOfLikes = postInformation.numberOfLikes;
    let totalComments = postInformation.totalComments;
    let nickName = postInformation.userNickname;
    let gifLinkHTML = await returnLinksGifsHTML(url)
    let htmlCode =
    `
    <div class="card mb-3 boxesBioColor boxesShadow" style="border-radius: 20px; margin-top:20px">
    <div class="card-header boxesBioColor" style ="border-radius: 20px; border: 0px;">
      <div class="row align-items-start">
        <div class="col-1">
          ${profileImageURl}
        </div>
        <div class="col-10">
          <div class="row align-items-start">
            <h6 class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
          </div>
          <div class="row align-items-start text-left">
            <p class="textChange" >${timeStamp}</p>
          </div>
        </div>
        <div class="col-1 text-left">
        </div>
      </div>
    </div>
    <div class="card-body boxesLine" id="0x570" style ="border-top: 1px solid #D6D6D6">
      <div class="row align-items-start">
        <div id="messageContent" class="col-12">
        <p class="textChange">${message}</p>${gifLinkHTML}
        </div>
      </div>
    </div>
    </div>
    `
    return htmlCode
  }
  if (imageSlice == "Img:"){
      let ipfsHash = whatever.slice(-46);
      url = "https://ipfs.moralis.io:2053/ipfs/"+ipfsHash;
      let htmlCode =   `<div style="border-radius:20px"><img id="gif" src="${url}" style="display: block; margin: 20px auto; padding:0px 0px 0px 0px; "  width="30%"></div>`;
      return htmlCode
  }
  if (url.length < 30){ // its giphy
    url = "https://media.giphy.com/media/"+url+"/giphy.gif";
    console.log(url);
    let htmlCode =   `<div style="background-color: black; border-radius:20px"><img id="gif" src="${url}" style="display: block; margin: 20px auto; padding:0px 0px 0px 0px; "  width="50%"></div>`;
    console.log(htmlCode);
    return htmlCode
  }
  if (url.length > 30){ // its IPFS

    url = "https://ipfs.moralis.io:2053/ipfs/"+url;
    let htmlCode =
    `
    <div class="row align-items-start">
      <div class="col-12">
          <p style="margin:0px" class="textChange">Click to load attachment:</p>
          <p style = "margin: 3px 0px 10px;"><a href="${url}" target="_blank" style="color: #1D81EB"><u>From IPFS</u></a></p>
      </div>
    </div>`;
    return htmlCode
  }
  return url
}
function deleteFile(){
  let attachment = document.getElementById("attachment");
  if (attachment){
    document.getElementById("attachment").remove();
  }
  file = false;
  gif = false;
  share = false;
}
function handleNewUserProfileImage(_input) {
  let attachment = document.getElementById("defaultNewUserIcon");
  if (attachment){
    document.getElementById("defaultNewUserIcon").remove();
  }
  userProfileImage = _input.files[0]; //input.files[0];
  preRender =  URL.createObjectURL(userProfileImage);
  console.log(userProfileImage);
  document.getElementById("newProfileImageArea").innerHTML +=
    `
    <img id="defaultNewUserIcon" src="${preRender}" style="border-radius:50px; margin-bottom:10px;" width="100" height="100">
    `; // Profile Overview in the Modal

}
function handleNewUserProfileImageSettings(_input) {
  let attachment = document.getElementById("defaultNewUserIconSettings");
  if (attachment){
    document.getElementById("defaultNewUserIconSettings").remove();
  }
  userProfileImage = _input.files[0]; //input.files[0];
  preRender =  URL.createObjectURL(userProfileImage);
  console.log(userProfileImage);
  document.getElementById("newProfileImageAreaSettings").innerHTML +=
    `
    <img id="defaultNewUserIconSettings" src="${preRender}" style="border-radius:50px; margin-bottom:10px;" width="100" height="100">
    `; // Profile Overview in the Modal

}
  // function getUserPreferences(){
  //   const userPreferences = Moralis.User.current();
  //   console.log(userPreferences.fetch())
  // }
//var myModal = document.getElementById('myModal')
//var myInput = document.getElementById('myInput')

function getLocalTime(unixTimeStamp){
  unixTimeStamp = unixTimeStamp*1000;
  var date = new Date(unixTimeStamp).toLocaleDateString("en-US");
  var time = new Date(unixTimeStamp).toLocaleTimeString("en-US");
  return (date + " " + time)
}
function getLocalDate(unixTimeStamp){
  unixTimeStamp = unixTimeStamp*1000;
  var date = new Date(unixTimeStamp).toLocaleDateString("en-US");
  return (date)
}

async function fetchIPFSDoc(ipfsHash) {
  const url = `https://ipfs.moralis.io:2053/ipfs/${ipfsHash}`;
  const response = await fetch(url);
  return response.json();
}

// DYNAMIC RENDERING Code -----------------------------------------------------------------------------------------------------------Dynamic Rendering ------------------------------
function loadExplorePage(){
  window.scrollTo(0, 0);
  document.getElementById("socialFeedPage").style.display="none";
  document.getElementById("shopPage").style.display="none";
  document.getElementById("walletPage").style.display="none";
  document.getElementById("playPage").style.display="none";
  renderExplorePage();
  document.getElementById("explorePostsPage").style.display="";
    document.getElementById("settingsPage").style.display="none"; //wierd glitch where if i put inline it shows lower
}
function loadSocialFeedPage(){
  window.scrollTo(0, 0);
  document.getElementById("explorePostsPage").style.display="none";
  document.getElementById("shopPage").style.display="none";
  document.getElementById("walletPage").style.display="none";
  document.getElementById("playPage").style.display="none";
  renderSocialFeedPage();
  document.getElementById("socialFeedPage").style.display="";
    document.getElementById("settingsPage").style.display="none";
}
function loadShopPage(){
  window.scrollTo(0, 0);
  document.getElementById("explorePostsPage").style.display="none";
  document.getElementById("socialFeedPage").style.display="none";
  document.getElementById("walletPage").style.display="none";
  document.getElementById("playPage").style.display="none";
  document.getElementById("shopPage").style.display="";
  document.getElementById("settingsPage").style.display="none";
}
function loadWalletPage(){
  window.scrollTo(0, 0);
  document.getElementById("explorePostsPage").style.display="none";
  document.getElementById("socialFeedPage").style.display="none";
  document.getElementById("shopPage").style.display="none";
  document.getElementById("playPage").style.display="none";
  document.getElementById("walletPage").style.display="";
  document.getElementById("settingsPage").style.display="none";
  renderNFTWallet();
}
function loadPlayPage(){
  window.scrollTo(0, 0);
  document.getElementById("explorePostsPage").style.display="none";
  document.getElementById("socialFeedPage").style.display="none";
  document.getElementById("walletPage").style.display="none";
  document.getElementById("shopPage").style.display="none";
  document.getElementById("playPage").style.display="";
  document.getElementById("settingsPage").style.display="none";
}
function loadSettingsPage(){
  window.scrollTo(0, 0);
  document.getElementById("explorePostsPage").style.display="none";
  document.getElementById("socialFeedPage").style.display="none";
  document.getElementById("walletPage").style.display="none";
  document.getElementById("shopPage").style.display="none";
  document.getElementById("playPage").style.display="none";
  document.getElementById("settingsPage").style.display="";
}

async function renderNFTWallet(){
  let NFTs = await moralisGetNFTs();
  for (i = 0; i< NFTs.length; i++){
    let characterDetails = await contractGetCharacterData(NFTs[i].token_id);
    document.getElementById("walletContainer").innerHTML +=
    `
    <div class="col-4" >
      <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:10px 10px 0px">
      <div class="card-body">
        <div class="row align-items-start">
            <img src="${characterDetails.imageURI}" alt="jewels" width="30%" height="30%">
        </div>
        <div class="row align-items-start" style ="padding-top: 10px;">
          <div class="col-12 text-center">
            <h4 class="textChange"><b>${characterDetails.name}</b></h4>
            <h6 class="textChange"><b>Health: </b> ${characterDetails.health}</h6>
            <h6 class="textChange"><b>Agility: </b> ${characterDetails.agility}</h6>
            <h6 class="textChange"><b>Strength: </b> ${characterDetails.strength}</h6>
            <h6 class="textChange"><b>Charm: </b> ${characterDetails.charm}</h6>
            <h6 class="textChange"><b>Sneak: </b> ${characterDetails.sneak}</h6>
          </div>
        </div>
        <div class="row align-items-start" style ="padding-top: 10px;">
          <div class="col-12 text-center">
              <button type="button" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Exchange</button>
          </div>
        </div>
      </div>
    </div>
    </div>
    `
  }
}
async function renderFollowing(followingArray) { //followingArray
  var followerHTML = document.getElementById("followerList");
  while (followerHTML.hasChildNodes()) { // This removes all of them and re-renders it
    followerHTML.removeChild(followerHTML.firstChild);
    }
    //  expected array should be like ["0x4532f229","0x5354f229","0x5354f229"]
  if (following) {
    for (let i = 0; i < following.length; i++) {
      let userProfile = await contractGetUserProfile(following[i]); // get userProfile to find the currentNickname
      let nickName = userProfile.userNickname;
      let address = following[i];
      var addressShort = address.slice(0, 5);
      addressShort = addressShort.concat("...");
      var nickNameShort = nickName.slice(0, 5);
      nickNameShort = nickNameShort.concat("...");
      document.getElementById("followerList").innerHTML +=
        `<h6 type="button" class = "text-center textChange" data-bs-toggle="modal" onclick="renderUserAccount('${address}')" data-bs-target="#userAccountModal" >${nickNameShort} @ ${addressShort}</h6>`; // Profile Overview in the Modal
      }
  }
  }
async function renderSaved(savedArray) { //savedArray
    var savedHTML = document.getElementById("savedList");
    while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
      savedHTML.removeChild(savedHTML.firstChild);
      }
   //const savedArray = [["0x4532f2293098AF088623a641546c98687DeB884","1"],["0x5354f2293098AF088623a641546c98687DeB884","2"],["0x4532f2293098AF088623a641546c98687DeB884","47"]]
    if (savedPosts) {
      console.log(savedPosts.length);
      for (let i = 0; i < savedPosts.length; i++) {
        let savedPostsSplit = savedPosts[i].split(",");
        savedPostsSplit[1] = ""+savedPostsSplit[1]
        console.log("postID",savedPostsSplit[1]);
        const postInformation = await contractGetUserPost(savedPostsSplit[0], savedPostsSplit[1]); // get post information
        let IPFSresponse = "";
        if (postInformation.message.slice(0,5) == "IPFS:"){
        ipfsHash = postInformation.message.replace('IPFS:', '');
        console.log(ipfsHash);
        IPFSresponse = await fetchIPFSDoc(ipfsHash)
        postInformation.message = IPFSresponse.message;
        postInformation.url = IPFSresponse.url;
        }
        let message = postInformation.message;
        message = message.slice(0,15); // first ten letters
        message = message.concat("...");
        const address = savedPostsSplit[0];
        const postID = savedPostsSplit[1];
        document.getElementById("savedList").innerHTML +=
          `<h6 class = "text-center textChange" onclick="renderSavedModal('${address}','${postID}')" type="button" data-bs-toggle="modal" data-bs-target="#savedPostModal" >${message}</h6>`;
        }
    }

  }
async function renderUserProfileTopRight() { //savedArray
    console.log("rendering top right");
    const currentUser = await Moralis.User.current();
    address = currentUser.get("accounts");
    address = address[0];
    profile = await contractGetUserProfile(address);
    bellHTMl = await getBellColor();
    let profileImageURl
    console.log(profile.profileImageUrl)

    if (profile.profileImageUrl && (profile.profileImageUrl != " ")){
    profileImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${profile.profileImageUrl}" style="border-radius:50px; margin-top:5px" width="40" height="40">
    `
    postSomethingImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${profile.profileImageUrl}" style="border-radius:50px; margin-top:0px" width="40" height="40">
    `
    }
    else{
    profileImageURl =`
      <span class="iconColor" style="font-size: 2em;">
          <i type="button" class="fas fa-user-secret" ></i>
      </span>
      `;
    postSomethingImageURl  =
    `
    <span class="iconColor" style="font-size: 2em;">
        <i class="fas fa-user-secret"></i>
    </span>
    `
    }
    //id="userIconPost"
    let userIconPost = document.getElementById("userIconPost"); //delete already generated postID from any other sources.
    userIconPost.removeChild(userIconPost.firstChild); // need to do it twice to wipe it
    userIconPost.removeChild(userIconPost.firstChild);
    document.getElementById("userIconPost").innerHTML += postSomethingImageURl;
    var addressShort = address.slice(0, 10);
    addressShort = addressShort.concat("...");
    nickName = profile.userNickname;
    var nickNameShort = nickName.slice(0, 5);
    nickNameShort = nickNameShort.concat("...");
    document.getElementById("messagingNotificationsUserProfile").innerHTML +=
    `
    <div class="row align-items-start">
      <div class="col-4 text-center">
      <div class="row align-items-start">
      <span class="iconColor" style="font-size: 1.75em; margin-top:2px">
          <i type="button" data-bs-toggle="modal" data-bs-target="#inboxModal" onclick="renderUserAccountMessages('${address}')" class="far fa-envelope"></i>
      </span>
        </div>
        </div>
        <div class="col-4 text-center">
        <div class="row align-items-start">
        ${bellHTMl}
          </div>
          </div>
        <div class="col-4 text-end">
          ${profileImageURl}
        </div>
    </div>
    `;
    document.getElementById("userProfileOverview").innerHTML +=
    `
    <div class="row align-items-start">
      <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" onclick="renderUserAccount('${address}')" class="textChange" style="margin:5px 0px 0px;">${nickNameShort}</h6>
    </div>
    <div class="row align-items-start">
      <h6 type="button" class="textChange" data-bs-toggle="modal" onclick="renderUserAccount('${address}')" data-bs-target="#userAccountModal" class="textChange">${addressShort}</h6>
    </div>
    `;
    const unixTime = Math.floor(Date.now() / 1000); // notify moralis of new login. This is for my handling of login
    updateUserPreferences(unixTime, "login")

  }

async function renderCommentArea(postAddress, postID) { //savedArray

    const currentUser = await Moralis.User.current();
    address = currentUser.get("accounts");
    address = address[0];
    const userProfile = await contractGetUserProfile(address); // get userProfile
    let profileImageURl;
    if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
    userCommentImage  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:2px; margin-left:0px" width="40" height="40">
    `
    }
    else{
    userCommentImage  =`
    <a class="iconColor" style="font-size: 1.75em;">
      <i class="fas fa-user-secret"></i>
    </a>
      `;
    }

    let postIDHTML = postAddress.concat(postID); //this creates the unqiueID in which we reference the html.
    console.log(postIDHTML);
    var savedHTML = document.getElementById(postIDHTML);
    let allCommentContainer = postIDHTML.concat('allCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentContainer = postIDHTML.concat('userCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentTextInput = postIDHTML.concat('userCommentTextInput'); //this creates the unqiueID in which we reference later when sending the message for the text value
    if (document.getElementById(allCommentContainer)){
          document.getElementById(allCommentContainer).remove();
    }
    if (document.getElementById(userCommentContainer)){
          document.getElementById(userCommentContainer).remove();
    }
    console.log(postAddress);
    console.log(postID);
    const postInformation = await contractGetUserPost(postAddress, postID); // moralis will get the post and see how many comments
    let totalComments = postInformation.totalComments;
    let commentHTMl ='';
    console.log(totalComments);
    for (let i = 0; i < totalComments; i++) {
      let commentID = ""+i; // doesn't seem to like numbers so sent as string
      console.log(commentID);
      const commentInformation = await contractGetComment(postAddress, postID,commentID); // moralis will get each comment information
      let message = commentInformation.message;
      let timeStamp = getLocalTime(commentInformation.timestamp);
      let nickName = commentInformation.userNickname;
      let address = commentInformation.commenter;

      const userProfile = await contractGetUserProfile(address); // get userProfile
      let profileImageURl;
      if (userProfile.profileImageUrl && (profile.profileImageUrl != " ")){
      profileImageURl  =
      `
      <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:2px; margin-left:0px" width="40" height="40">
      `
      }
      else{
      profileImageURl =`
      <a class="iconColor" style="font-size: 1.75em;">
        <i class="fas fa-user-secret"></i>
      </a>
        `;
      }


      var addressShort = address.slice(0, 10);
      addressShort = addressShort.concat("...");
      if (commentID=="0"){
      commentHTMl +=
        `
        <div class="row align-items-start" id="${allCommentContainer}" style ="margin-top: 10px; padding:20px 0px 0px; border-top: 1px solid #535353">
          <div class="col-12 text-left">
            <div class="row align-items-start">
              <div class="col-1 text-center">
                ${profileImageURl}
              </div>
              <div class="col-11 text-left boxesCommentColor boxesShadow" style=" padding-top:4px; border-radius: 20px;">
                <div class="row align-items-start">
                  <p class="textChange" style="font-size:1em; margin-bottom:0px"><b>${nickName} @ ${addressShort}</b></p>
                  </div>
                  <div class="row align-items-start">
                    <p class="textChange" style="font-size:0.75em;margin-bottom:2px">${timeStamp}</p>
                    </div>
                  <div class="row align-items-start">
                    <h6 class="textChange" style="font-size:0.75em">${message}</h6>
                  </div>
              </div>
          </div>
        `; //Solve this later to load up a modal
          }
        else{
          commentHTMl +=
            `
            <div class="row align-items-start" style ="margin-top: 10px;">
              <div class="col-1 text-center">
                <a class="iconColor" style="font-size: 1.75em;">
                  <i class="fas fa-user-secret"></i>
                </a>
              </div>
              <div class="col-11 text-left boxesCommentColor boxesShadow" style=" padding-top:4px; border-radius: 20px;">
                <div class="row align-items-start">
                  <p class="textChange" style="font-size:1em; margin-bottom:0px"><b>${nickName} @ ${addressShort}</b></p>
                  </div>
                  <div class="row align-items-start">
                    <p class="textChange" style="font-size:0.75em;margin-bottom:2px">${timeStamp}</p>
                    </div>
                  <div class="row align-items-start">
                    <h6 class="textChange" style="font-size:0.75em">${message}</h6>
                  </div>
              </div>
          </div>
            `; //Solve this later to load up a modal
        }
      }
      commentHTMl += "</div></div>";
      document.getElementById(postIDHTML).innerHTML += commentHTMl;
      document.getElementById(postIDHTML).innerHTML +=
      `
      <div class="row align-items-start" id="${userCommentContainer}" style ="margin-top: 10px; padding-top:20px; border-top: 1px solid #535353">
        <div class="col-1 text-center">
          ${userCommentImage}
        </div>
        <div class="col-9 text-center" style=" padding-top:4px">
          <textarea id="${userCommentTextInput}" class="form-control textBox" placeholder="Comment Here" style="border-radius:20px; font-size:0.9em;" rows="1"></textarea>
        </div>
        <div class="col-2 text-center"  style=" padding-top:4px">
          <button type="button" class="btn changeButtonColor changeButtonTextColor" onclick="addComment('${postAddress}','${postID}')" style="float:right; font-size:0.9em">Comment</button>
        </div>
      </div>
      `;
          expandText()
}
async function renderModalCommentArea(postAddress, postID) {
    let postIDHTML = postAddress.concat(postID); //this creates the unqiueID in which we reference the html.
    postIDHTML = postIDHTML.concat("modal"); //this creates the unqiueID in which we reference the html.
    console.log(postIDHTML);
    var savedHTML = document.getElementById(postIDHTML);
    let allCommentContainer = postIDHTML.concat('allCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentContainer = postIDHTML.concat('userCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentTextInput = postIDHTML.concat('userCommentTextInput'); //this creates the unqiueID in which we reference later when sending the message for the text value
    if (document.getElementById(allCommentContainer)){
          document.getElementById(allCommentContainer).remove();
    }
    if (document.getElementById(userCommentContainer)){
          document.getElementById(userCommentContainer).remove();
    }
    console.log(postAddress);
    console.log(postID);
    const postInformation = await contractGetUserPost(postAddress, postID); // moralis will get the post and see how many comments
    let totalComments = postInformation.totalComments;
    let commentHTMl ='';
    console.log(totalComments);
    for (let i = 0; i < totalComments; i++) {
      let commentID = ""+i; // doesn't seem to like numbers so sent as string
      console.log(commentID);
      const commentInformation = await contractGetComment(postAddress, postID,commentID); // moralis will get each comment information
      let message = commentInformation.message;
      let timeStamp = getLocalTime(commentInformation.timestamp);
      let nickName = commentInformation.userNickname;
      let address = commentInformation.commenter;
      var addressShort = address.slice(0, 10);
      addressShort = addressShort.concat("...");
      if (commentID=="0"){
      commentHTMl +=
        `
        <div class="row align-items-start" id="${allCommentContainer}" style ="margin-top: 10px; padding:20px 0px 0px; border-top: 1px solid #535353">
          <div class="col-12 text-left">
            <div class="row align-items-start">
              <div class="col-1 text-center">
                <a class="iconColor" style="font-size: 1.75em;">
                  <i class="fas fa-user-secret"></i>
                </a>
              </div>
              <div class="col-11 text-left boxesCommentColor boxesShadow" style=" padding-top:4px; border-radius: 20px;">
                <div class="row align-items-start">
                  <p class="textChange" style="font-size:1em; margin-bottom:0px"><b>${nickName} @ ${addressShort}</b></p>
                  </div>
                  <div class="row align-items-start">
                    <p class="textChange" style="font-size:0.75em;margin-bottom:2px">${timeStamp}</p>
                    </div>
                  <div class="row align-items-start">
                    <h6 class="textChange" style="font-size:0.75em">${message}</h6>
                  </div>
              </div>
          </div>
        `; //Solve this later to load up a modal
          }
        else{
          commentHTMl +=
            `
            <div class="row align-items-start" style ="margin-top: 10px;">
              <div class="col-1 text-center">
                <a class="iconColor" style="font-size: 1.75em;">
                  <i class="fas fa-user-secret"></i>
                </a>
              </div>
              <div class="col-11 text-left boxesCommentColor boxesShadow" style=" padding-top:4px; border-radius: 20px;">
                <div class="row align-items-start">
                  <p class="textChange" style="font-size:1em; margin-bottom:0px"><b>${nickName} @ ${addressShort}</b></p>
                  </div>
                  <div class="row align-items-start">
                    <p class="textChange" style="font-size:0.75em;margin-bottom:2px">${timeStamp}</p>
                    </div>
                  <div class="row align-items-start">
                    <h6 class="textChange" style="font-size:0.75em">${message}</h6>
                  </div>
              </div>
          </div>
            `; //Solve this later to load up a modal
        }
      }
      commentHTMl += "</div></div>";
      document.getElementById(postIDHTML).innerHTML += commentHTMl;
      document.getElementById(postIDHTML).innerHTML +=
      `
      <div class="row align-items-start" id="${userCommentContainer}" style ="margin-top: 10px; padding-top:20px; border-top: 1px solid #535353">
        <div class="col-1 text-center">
          <a class="iconColor" style="font-size: 1.75em;">
            <i class="fas fa-user-secret"></i>
          </a>
        </div>
        <div class="col-9 text-center" style=" padding-top:4px">
          <textarea id="${userCommentTextInput}" class="form-control textBox" placeholder="Comment Here" style="border-radius:20px; font-size:0.9em;" rows="1"></textarea>
        </div>
        <div class="col-2 text-center"  style=" padding-top:4px">
          <button type="button" class="btn changeButtonColor changeButtonTextColor" onclick="addModalComment('${postAddress}','${postID}')" style="float:right; font-size:0.9em">Comment</button>
        </div>
      </div>
      `;
          expandText()
}
async function renderSavedModal(address,postID) { //nickName,address,postID
    const postInformation = await contractGetUserPost(address, postID); // get post information

    const userProfile = await contractGetUserProfile(address); // get userProfile
    let profileImageURL;
    if (userProfile.profileImageUrl && (profile.profileImageUrl != " ")){
    profileImageURL  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:5px; margin-left:0px" width="40" height="40">
    `
    }
    else{
    profileImageURL =`
    <span class="iconColor" style="font-size: 2em;">
        <i class="fas fa-user-secret"></i>
    </span>
      `;
    }

    let IPFSresponse = "";
    if (postInformation.message.slice(0,5) == "IPFS:"){
    ipfsHash = postInformation.message.replace('IPFS:', '');
    console.log(ipfsHash);
    IPFSresponse = await fetchIPFSDoc(ipfsHash)
    postInformation.message = IPFSresponse.message;
    postInformation.url = IPFSresponse.url;
    }
    console.log("rendering Modal");
    let postIDHTML = address.concat(postID); //this creates the unqiueID in which we reference the html.
    postIDHTML = postIDHTML.concat("modal"); //this creates the unqiueID in which we reference the html.
    let allCommentContainer = postIDHTML.concat('allCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentContainer = postIDHTML.concat('userCommentContainer'); //this creates the unqiueID in which we reference the html.
    let userCommentTextInput = postIDHTML.concat('userCommentTextInput'); //this creates the unqiueID in which we reference later when sending the message for the text value

    let alreadyExists = document.getElementById(postIDHTML); //delete already generated postID from any other sources.
    if (alreadyExists){
      document.getElementById(postIDHTML).remove();
    }

    let message = postInformation.message;
    let timeStamp = getLocalTime(postInformation.timestamp);
    let savedHTML = document.getElementById("savedPostModalContent");
    let url = postInformation.url;
    let numberOfLikes = postInformation.numberOfLikes;
    let totalComments = postInformation.totalComments;
    let nickName = postInformation.userNickname;
    let gifLinkHTML = await returnLinksGifsHTML(url)
    let starArray = address+","+postID; //moralis doesn't seem to work with uploading arrays no so using a simple comment instead
    while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
      savedHTML.removeChild(savedHTML.firstChild);
      }
    // populate the render Saved Model
    document.getElementById("savedPostModalContent").innerHTML +=
        `
        <div class="modal-content boxesColor boxesLine" style="border-radius: 20px;">
            <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
              <div class="row align-items-start">
                <div class="col-1">
                  ${profileImageURL}
                </div>
                <div class="col-10">
                  <div class="row align-items-start">
                    <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" onclick="renderUserAccount('${address}')" class="textChange" style="margin-bottom:0px;">${nickName} posted</h6>
                  </div>
                  <div class="row align-items-start text-left">
                    <p class="textChange">${timeStamp}</p>
                  </div>
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${starArray}', 'unSavePost')" class="fas fa-star starFilledIn"></i>
                  </span>
                </div>
              </div>
            </div>
          <div class="modal-body" style="padding:0px">
            <div class="card-body" id="${postIDHTML}" style ="border-top: 1px solid #535353" >
              <div class="row align-items-start">
                <div class="col-12">
                <p class="textChange">${message}</p>${gifLinkHTML}
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="contractLikePost('${address}','${postID}')" class="far fa-heart"></i>
                      </a>
                    </div>
                    <div class="col-2 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">${numberOfLikes}</h6>
                    </div>
                    <div class="col-4 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-comments" onclick="renderModalCommentArea('${address}','${postID}')"></i>
                      </a>
                    </div>
                    <div class="col-2 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">${totalComments}</h6>
                    </div>
                    <div class="col-4 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-5 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="handleUserShare('${address}','${postID}')" class="far fa-share-square"></i>
                      </a>
                    </div>
                    <div class="col-5 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <a class="iconColor" style="font-size: 1.5em;">
                    <i data-bs-toggle="modal" data-bs-target="#donationModal" onclick="donationAddress('${address}','${nickName}')" class="fab fa-ethereum"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        `; //Solve this later to load up a modal

  }

async function renderUserAccountPosts(address,totalPosts) { //nickName,address,postID
    let savedHTML = document.getElementById("userAccountPosts");
    $('#savedPostModal').modal('hide'); //hide modal
    var addressShort = address.slice(0, 10);
    addressShort = addressShort.concat("...");

    const userProfile = await contractGetUserProfile(address); // get userProfile
    let profileImageURl;
    if (userProfile.profileImageUrl && (profile.profileImageUrl != " ")){
    profileImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:3px; margin-left:0px" width="40" height="40">
    `
    }
    else{
    profileImageURl =`
    <span class="iconColor" style="font-size: 2em;">
        <i class="fas fa-user-secret"></i>
    </span>
      `;
    }


    while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
      savedHTML.removeChild(savedHTML.firstChild);
      }
    for (let i=(totalPosts-1); i>-1; i--){
      console.log(i);
      let postID = ""+i; // doesn't seem to like numbers so sent as string
      let postIDHTML = address.concat(postID); //this creates the unqiueID in which we reference when rendering the comments
      postIDHTML = postIDHTML.concat("modal"); //this creates the unqiueID in which we reference the html.
      const postInformation = await contractGetUserPost(address, postID); // get post information
      userAddress = currentUser.get("accounts");
      userAddress = userAddress[0];
       console.log(postID);
      if (userAddress == address){
        pinHTML =    `
            <span class="iconColor" style="font-size: 1.5em;">
                <i onclick="contractChangeFeaturedPost('${postID}')" class="fas fa-thumbtack"></i>
            </span>`
      }
      else{
        pinHTML =``
      }


      let IPFSresponse = "";
      if (postInformation.message.slice(0,5) == "IPFS:"){
      ipfsHash = postInformation.message.replace('IPFS:', '');
      console.log(ipfsHash);
      IPFSresponse = await fetchIPFSDoc(ipfsHash)
      postInformation.message = IPFSresponse.message;
      postInformation.url = IPFSresponse.url;
      }
      let message = postInformation.message;
      let timeStamp = getLocalTime(postInformation.timestamp);
      let savedHTML = document.getElementById("savedPostModalContent");
      let url = postInformation.url;
      let numberOfLikes = postInformation.numberOfLikes;
      let nickName = postInformation.userNickname;
      let totalComments = postInformation.totalComments;
      let gifLinkHTML = await returnLinksGifsHTML(url)

      let alreadyExists = document.getElementById(postIDHTML); //delete already generated postID from any other sources.
      if (alreadyExists){
        document.getElementById(postIDHTML).remove();
      }
      let starArray = address+","+postID; //moralis doesn't seem to work with uploading arrays no so using a simple comment instead
      console.log(starArray);
      // populate the render Saved Model
      document.getElementById("userAccountPosts").innerHTML +=
          `
          <div class="col-12">
            <div class="card mb-3 boxesColor" style="border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"  >
            <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
              <div class="row align-items-start">
                <div class="col-1">
                  ${profileImageURl}
                </div>
                <div class="col-9">
                  <div class="row align-items-start">
                    <h6 class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
                  </div>
                  <div class="row align-items-start text-left">
                    <p class="textChange" >${timeStamp}</p>
                  </div>
                </div>
                <div class="col-1 text-left">
                  ${pinHTML}
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${starArray}', 'savePost')" class="far fa-star"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="card-body" id="${postIDHTML}" style ="border-top: 1px solid #535353" >
              <div class="row align-items-start">
                <div id="messageContent" class="col-12">
                <p class="textChange">${message}</p>${gifLinkHTML}
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="contractLikePost('${address}','${i}')" class="far fa-heart"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">${numberOfLikes}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-comments" onclick="renderModalCommentArea('${address}','${i}')"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">${totalComments}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-5 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="handleUserShare('${address}','${postID}')" class="far fa-share-square"></i>
                      </a>
                    </div>
                    <div class="col-5 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <a class="iconColor" style="font-size: 1.5em;">
                    <i data-bs-toggle="modal" data-bs-target="#donationModal" onclick="donationAddress('${address}','${nickName}')" class="fab fa-ethereum"></i>
                  </a>
                </div>
              </div>

            </div>
          </div>
          </div>
        </div>
          `;
    }
  }
async function renderFeaturedPost(address,postID) { //nickName,address,postID
    var addressShort = address.slice(0, 10);
    addressShort = addressShort.concat("...");

    const userProfile = await contractGetUserProfile(address); // get userProfile
    let profileImageURl;
    if (userProfile.profileImageUrl && (profile.profileImageUrl != " ")){
    profileImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:3px; margin-left:0px" width="40" height="40">
    `
    }
    else{
    profileImageURl =`
    <span class="iconColor" style="font-size: 2em;">
        <i class="fas fa-user-secret"></i>
    </span>
      `;
    }

    const featuredPost = await contractGetUserPost(address, postID);

    userAddress = currentUser.get("accounts");
    userAddress = userAddress[0];
    if (userAddress == address){
      pinHTML =    `
          <span style="font-size: 1.5em; color: #4599A8 !important">
              <i class="fas fa-thumbtack"></i>
          </span>`
    }
    else{
      pinHTML =``
    }

    let IPFSresponse = "";
    if (featuredPost.message.slice(0,5) == "IPFS:"){
    ipfsHash = featuredPost.message.replace('IPFS:', '');
    console.log(ipfsHash);
    IPFSresponse = await fetchIPFSDoc(ipfsHash)
    featuredPost.message = IPFSresponse.message;
    featuredPost.url = IPFSresponse.url;
    }
    let featuredMessage = featuredPost.message;
    let featuredTimeStamp = getLocalTime(featuredPost.timestamp);
    let featuredUrl = featuredPost.url;
    let featuredNumberOfLikes = featuredPost.numberOfLikes;
    let featuredGifLinkHTML = await returnLinksGifsHTML(featuredUrl)
    let nickName = featuredPost.userNickname;
    let totalComments = featuredPost.totalComments;
    let starArray = address+","+postID; //moralis doesn't seem to work with uploading arrays no so using a simple comment instead
    if (featuredPost.timestamp == "0"){
      console.log("user Doesn't have any posts")
    }
    else{
      document.getElementById("featuredPostContainer").innerHTML +=
      `
        <div class="col-12">
          <div class="card mb-3 boxesColor neon" >
          <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                ${profileImageURl}
              </div>
              <div class="col-9">
                <div class="row align-items-start">
                  <h6 class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p class="textChange" >${featuredTimeStamp}</p>
                </div>
              </div>
              <div class="col-1 text-left">
                ${pinHTML}
              </div>
              <div class="col-1 text-left">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i onclick="updateUserPreferences('${starArray}', 'savePost')" class="far fa-star"></i>
                </span>
              </div>
            </div>
          </div>
          <div class="card-body" id="0x55" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div id="messageContent" class="col-12">
              <p class="textChange">${featuredMessage}</p>${featuredGifLinkHTML}
              </div>
            </div>

          </div>
        </div>
        </div>
        `;
    }
  }

async function renderUserAccountMessages(address) { //nickName,address,postID
    document.getElementById('bellColor').style.color=""; // reset bell color
    let savedHTML = document.getElementById("inboxModalBody");
    $('#savedPostModal').modal('hide'); //hide modal
    let allMessages = await moralisGetMessages(address)
    while (savedHTML.childNodes.length>12) { // This removes all of them and re-renders it except for the post something box
      savedHTML.removeChild(savedHTML.lastChild);
      }
    for (let i=(allMessages.length-1); i>-1; i--){
      console.log(allMessages[i]);
      const object = allMessages[i];
      let senderAddress = object.get('senderAddress');
      const userProfile = await contractGetUserProfile(senderAddress);

      let profileImageURl;
      if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
      profileImageURl  =
      `
      <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:2px; margin-left:0px" width="40" height="40">
      `
      }
      else{
      profileImageURl =`
      <span class="iconColor" style="font-size: 2em;">
          <i class="fas fa-user-secret"></i>
      </span>
        `;
      }

      let message = object.get('message');

      var addressShort = senderAddress.slice(0, 11);
      addressShort = addressShort.concat("...");
      let timeStamp = object.get('time')
      timeStamp = getLocalTime(timeStamp);
      let nickName = userProfile.userNickname;
      // populate the render Saved Model
      document.getElementById("inboxModalBody").innerHTML +=
          `
          <div class="card mb-3 boxesColor boxesShadow" style="border-radius: 20px;">
          <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                ${profileImageURl}
              </div>
              <div class="col-10">
                <div class="row align-items-start">
                  <h6 class="textChange" type="button" data-bs-toggle="modal" onclick="renderUserAccount('${senderAddress}')" data-bs-target="#userAccountModal" style="margin-bottom:0px;">${nickName} @ ${addressShort}</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p class="textChange" >${timeStamp}</p>
                </div>
              </div>
              <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="replytoMessage('${senderAddress}')" class="fas fa-reply iconColor"></i>
                  </span>
              </div>
            </div>
          </div>
          <div class="card-body" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div id="messageContent" class="col-12">
              <p class="textChange">${message}</p>
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
            </div>
          </div>
        </div>
          `;
    }
  }

async function renderSocialFeedPage() { //nickName,address,postID
    let allPostArray = []; // initalizeArray
    let savedHTML = document.getElementById("socialFeedPostsContainer");
    while (savedHTML.childNodes.length>2) { // This removes all of them and re-renders it except for the post something box
      savedHTML.removeChild(savedHTML.lastChild);
      }
    const currentUser = await Moralis.User.current();
    address = await currentUser.get("accounts"); // we want also this users address to they are included in rendering of the social feed page.
    address = address[0];
    let followersToSearch = []
    followersToSearch = following;
    if (followersToSearch == undefined){
      followersToSearch = [];
      followersToSearch[0] = address;
      console.log(followersToSearch);
    }
    if (followersToSearch.includes(address)){
    }
    else{
      followersToSearch.push(address);
    }
    for (let i=0; i<followersToSearch.length; i++){
          const userProfile = await contractGetUserProfile(followersToSearch[i]); // get userProfile
          let profileImageURl;
          if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
          profileImageURl  =
          `
          <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:5px; margin-left:0px" width="40" height="40">
          `
          }
          else{
          profileImageURl =`
          <span class="iconColor" style="font-size: 2em;">
              <i class="fas fa-user-secret"></i>
          </span>
            `;
          }
          totalPosts = userProfile.totalPosts;
          let stopAt = -1;
          if (totalPosts > 5){ // only get the last 5 posts. if someone has 100 posts then no point rendering them all everytime.
            stopAt = totalPosts - 5 - 1;
          }
          for (let j=(totalPosts-1); j>stopAt; j--){ // get the post information for each post starting from latest
              let postID = ""+j; //doesn't seem to like numbers so sent as string
              const postInformation = await contractGetUserPost(followersToSearch[i], postID); // get post information
              let IPFSresponse = "";
              if (postInformation.message.slice(0,5) == "IPFS:"){
              ipfsHash = postInformation.message.replace('IPFS:', '');
              console.log(ipfsHash);
              IPFSresponse = await fetchIPFSDoc(ipfsHash)
              postInformation.message = IPFSresponse.message;
              postInformation.url = IPFSresponse.url;
              }
              postInformation.postID = postID; // add post ID
              postInformation.address = followersToSearch[i]; // add address
              postInformation.profileHTML = profileImageURl;
              allPostArray.push(postInformation); // save Post Information in array for later handling
              }
      }
      // now all the posts are collected for each user that is being followed as well as themselves
      // now we want to reorganize them based on when they posted.
      allPostArray.sort((a, b) => {
          return b.timestamp - a.timestamp;
      });
    console.log(allPostArray);
    for (let i=0; i<allPostArray.length; i++){
      console.log(i);
      const postInformation = allPostArray[i]; // get post information
      let address = postInformation.address
      let postID = ""+postInformation.postID; // doesn't seem to like numbers so sent as string
      console.log(postID);
      let postIDHTML = address.concat(postID); //this creates the unqiueID in which we reference when rendering the comments
      let message = postInformation.message;
      let timeStamp = getLocalTime(postInformation.timestamp);
      let savedPostHTML = document.getElementById("savedPostModalContent");
      let url = postInformation.url;

      let numberOfLikes = postInformation.numberOfLikes;
      let nickName = postInformation.userNickname;
      let totalComments = postInformation.totalComments;

      let gifLinkHTML = await returnLinksGifsHTML(url)
      var addressShort = address.slice(0, 10);
      addressShort = addressShort.concat("...");

      let alreadyExists = document.getElementById(savedPostHTML); //delete already generated postID from any other sources.
      if (alreadyExists){
        document.getElementById(savedPostHTML).remove();
      }
      let starArray = address+","+postID; //moralis doesn't seem to work with uploading arrays no so using a simple comment instead
      console.log(starArray);
      // populate the render Saved Model
      document.getElementById("socialFeedPostsContainer").innerHTML +=
          `
            <div class="card mb-3 boxesColor" style="border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"  >
            <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
              <div class="row align-items-start">
                <div class="col-1">
                  ${postInformation.profileHTML}
                </div>
                <div class="col-9">
                  <div class="row align-items-start">
                    <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" onclick="renderUserAccount('${address}')" class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
                  </div>
                  <div class="row align-items-start text-left">
                    <p class="textChange" >${timeStamp}</p>
                  </div>
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${address}', 'follow')" class="fas fa-user-friends"></i>
                  </span>
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${starArray}', 'savePost')" class="far fa-star"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="card-body" id="${postIDHTML}" style ="border-top: 1px solid #535353" >
              <div class="row align-items-start">
                <div id="messageContent" class="col-12">
                <pre style="font-size:16px; font-family:sans-serif; font-weight:500; word-wrap: break-word;  "><p class="textChange" style="word-break: break-all;">${message}</p></pre>${gifLinkHTML}
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="contractLikePost('${address}','${postID}')" class="far fa-heart"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">${numberOfLikes}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-comments" onclick="renderCommentArea('${address}','${postID}')"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">${totalComments}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-5 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="handleUserShare('${address}','${postID}')" class="far fa-share-square"></i>
                      </a>
                    </div>
                    <div class="col-5 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <a class="iconColor" style="font-size: 1.5em;">
                    <i data-bs-toggle="modal" data-bs-target="#donationModal" onclick="donationAddress('${address}','${nickName}')" class="fab fa-ethereum"></i>
                  </a>
                </div>
              </div>

            </div>
          </div>
          </div>
          `;
    }
  expandText()
  }
async function renderUserAccount(address) { //nickName,address,postID
    $('#savedPostModal').modal('hide'); //hide other modal
    $('#inboxModal').modal('hide'); //hide other modal
    let savedHTML = document.getElementById("userAccountModalContent"); //prepare to wipe prior profile
    const userProfile = await contractGetUserProfile(address);
    var addressShort = address.slice(0, 10);
    addressShort = addressShort.concat("...");
    console.log("rendering Modal");

    let userProfileBio = userProfile.profileBio;
    let joinDate = getLocalDate(userProfile.joinDate);
    let followerCount = userProfile.followerCount;
    let totalPosts = userProfile.totalPosts;
    let featuredPostID = userProfile.featuredPost;
    let nickName = userProfile.userNickname;
    let profileImageURl;
    if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
    profileImageURl  =
    `
    <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:5px; margin-left:20px" width="100" height="100">
    `
    }
    else{
    profileImageURl =`
    <span class="iconColor" style="font-size: 4.5em; margin-left:30px">
        <i class="fas fa-user-secret"></i>
    </span>
      `;
    }
    if (joinDate == 0){
      console.log("User Profile Does Not Exist");
    }
    else{
      console.log(savedHTML);
      while (savedHTML.hasChildNodes()) { // This removes all of them and re-renders it
        savedHTML.removeChild(savedHTML.firstChild);
        }
      // populate the render Saved Model
      document.getElementById("userAccountModalContent").innerHTML +=
          `
          <div class="modal-content boxesColor">
            <div class="modal-header boxesLineTop">
              <h5 class="modal-title textChange" id="userAccountLabel">Social Profile</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="row align-items-start" >
                <div class="col-3">
                ${profileImageURl}
                </div>
                <div class="col-5">
                <div class="row align-items-start">
                    <h6 class="modal-title textChange" style="margin-bottom: 5px">${nickName}</h6>
                </div>
                <div class="row align-items-start">
                  <h6 class="modal-title textChange" style="margin-bottom: 5px">@ ${addressShort}</h6>
                </div>
                <div class="row align-items-start">
                  <div class="col-2">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i class="far fa-calendar-alt"></i>
                  </span>
                  </div>
                  <div class="col-10" style="padding:4px;">
                  <h6 class="modal-title textChange" style="margin-top: 5px;">Since ${joinDate}</h6>
                  </div>
                </div>
                </div>
                <div class="col-4">
                  <div class="row align-items-start">
                    <div class="col-2">
                    <span class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-user"></i>
                    </span>
                    </div>
                    <div class="col-10">
                    <h6 class="modal-title textChange" style="margin-top: 5px">${followerCount} Followers</h6>
                    </div>
                  </div>
                  <div class="row align-items-start">
                    <div class="col-2">
                    <span class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-comment-alt"></i>
                    </span>
                    </div>
                    <div class="col-10">
                    <h6 class="modal-title textChange" style="margin-top: 5px">${totalPosts} Posts</h6>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row align-items-start" style="margin:20px 0px 20px">
              <div class="col-12">
                <div class="row align-items-start">
                  <p class="textChange boxesShadow boxesBioColor" style="border-radius: 20px; padding:10px 20px 10px 20px;" >${userProfileBio}</p>
                </div>
              </div>
              </div>
              <div id="featuredPostContainer" class="row align-items-start">
              </div>

              <div id="userAccountPosts" class="row align-items-start">
              </div>

            </div>
          </div>
          `; //Solve this later to load up a modal
          await renderFeaturedPost(address,featuredPostID)
          renderUserAccountPosts(address,totalPosts)
    }

  }

async function renderExplorePage() { //nickName,address,postID
    console.log("rendering explore page");
    let allPostArray = []; // initalizeArray
    let postArray = [];
    let moralisPosts = await moralisGetPosts() // gets the last 25 posts
    console.log("moralis posts length ", moralisPosts.length)
    for (let j=0; j<moralisPosts.length; j++){
      console.log(moralisPosts[j]);
      const object = moralisPosts[j];
      let postID = object.get('postID');
      let senderAddress = object.get('senderAddress');
      const postInformation = await contractGetUserPost(senderAddress, postID); // get post information
      let IPFSresponse = "";
      if (postInformation.message.slice(0,5) == "IPFS:"){
      ipfsHash = postInformation.message.replace('IPFS:', '');
      console.log(ipfsHash);
      IPFSresponse = await fetchIPFSDoc(ipfsHash)
      postInformation.message = IPFSresponse.message;
      postInformation.url = IPFSresponse.url;
      }
      postInformation.postID = postID; // add post ID
      postInformation.address = senderAddress; // add address
      allPostArray.push(postInformation); // save Post Information in array for later handling
    }
    // now all the posts should be in a nice array of objects
      // now we want to reorganize them based on when they posted if moralis hasn't already
      allPostArray.sort((a, b) => {
          return b.timestamp - a.timestamp;
      });
    console.log(allPostArray.length);
    var savedHTML = document.getElementById("explorePostsContainer");
    while (savedHTML.hasChildNodes()) { // This removes all of them so we can re-render
            savedHTML.removeChild(savedHTML.firstChild);
      }
    for (let i=0; i<allPostArray.length; i++){
      console.log(i);
      const postInformation = allPostArray[i]; // get post information
      let address = postInformation.address

      const userProfile = await contractGetUserProfile(address); // get userProfile
      let profileImageURl;
      if (userProfile.profileImageUrl && (userProfile.profileImageUrl != " ")){
      profileImageURl  =
      `
      <img src="https://ipfs.moralis.io:2053/ipfs/${userProfile.profileImageUrl}" style="border-radius:50px; margin-top:5px; margin-left:0px" width="40" height="40">
      `
      }
      else{
      profileImageURl =`
      <span class="iconColor" style="font-size: 2em;">
          <i class="fas fa-user-secret"></i>
      </span>
        `;
      }

      let postID = ""+postInformation.postID; // doesn't seem to like numbers so sent as string
      console.log(postID);
      let postIDHTML = address.concat(postID); //this creates the unqiueID in which we reference when rendering the comments
      let message = postInformation.message;
      let timeStamp = getLocalTime(postInformation.timestamp);
      let savedPostHTML = document.getElementById("savedPostModalContent");
      let url = postInformation.url;
      let numberOfLikes = postInformation.numberOfLikes;
      let nickName = postInformation.userNickname;
      let totalComments = postInformation.totalComments;
      let gifLinkHTML = await returnLinksGifsHTML(url)
      var addressShort = address.slice(0, 10);
      addressShort = addressShort.concat("...");

      let alreadyExists = document.getElementById(savedPostHTML); //delete already generated postID from any other sources.
      if (alreadyExists){
        document.getElementById(savedPostHTML).remove();
      }
      let starArray = address+","+postID; //moralis doesn't seem to work with uploading arrays no so using a simple comment instead
      console.log(starArray);
      // populate the render Saved Model
      document.getElementById("explorePostsContainer").innerHTML +=
          `
            <div class="card mb-3 boxesColor" style="border-radius: 20px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"  >
            <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
              <div class="row align-items-start">
                <div class="col-1">
                ${profileImageURl}
                </div>
                <div class="col-9">
                  <div class="row align-items-start">
                    <h6 type="button" data-bs-toggle="modal" data-bs-target="#userAccountModal" onclick="renderUserAccount('${address}')" class="textChange" style="margin-bottom:0px;">${nickName} @ ${addressShort} posted</h6>
                  </div>
                  <div class="row align-items-start text-left">
                    <p class="textChange" >${timeStamp}</p>
                  </div>
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${address}', 'follow')" class="fas fa-user-friends"></i>
                  </span>
                </div>
                <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="updateUserPreferences('${starArray}', 'savePost')" class="far fa-star"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="card-body" id="${postIDHTML}" style ="border-top: 1px solid #535353" >
              <div class="row align-items-start">
                <div id="messageContent" class="col-12">
                <pre style="font-size:16px; font-family:sans-serif; font-weight:500"><p class="textChange">${message}</p></pre>${gifLinkHTML}
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="contractLikePost('${address}','${postID}')" class="far fa-heart"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">${numberOfLikes}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-4 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-comments" onclick="renderCommentArea('${address}','${postID}')"></i>
                      </a>
                    </div>
                    <div class="col-4 text-center">
                      <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">${totalComments}</h6>
                    </div>
                    <div class="col-2 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <div class="row align-items-start">
                    <div class="col-5 text-center">
                    </div>
                    <div class="col-2 text-center" style="padding:0px">
                      <a class="iconColor" style="font-size: 1.5em;">
                        <i onclick="handleUserShare('${address}','${postID}')" class="far fa-share-square"></i>
                      </a>
                    </div>
                    <div class="col-5 text-center">
                    </div>
                    </div>
                </div>
                <div class="col-3 text-center">
                  <a class="iconColor" style="font-size: 1.5em;">
                    <i data-bs-toggle="modal" data-bs-target="#donationModal" onclick="donationAddress('${address}','${nickName}')" class="fab fa-ethereum"></i>
                  </a>
                </div>
              </div>

            </div>
          </div>
          </div>
          `;
    }
  expandText()
  }
</script>
<!-- =========================================== STYLE-================================================================================= STYLE---------------------------------------------->
<style>


.fa-thumbtack:hover {
  color: #4599A8;
  cursor: pointer;
}
.fa-reply:hover {
  color: #13B0E5;
  cursor: pointer;
}
.fa-user-friends:hover {
  color: #ED2828;
  cursor: pointer;
}
.fa-star:hover {
  color: #E0D836;
  cursor: pointer;
}
.starFilledIn {
  color: #E0D836;
  cursor: pointer;
}
.heartFilledIn {
  color: #ED2828;
  cursor: pointer;
}
.fa-heart:hover {
  color: #ED2828;
  cursor: pointer;
}

.fa-comments:hover {
  color: grey;
  cursor: pointer;
}
.fa-share-square:hover {
  color: #3652E0;
  cursor: pointer;
}
.fa-ethereum:hover {
  color: green;
  cursor: pointer;
}
.fa-trash-alt:hover {
  color: #ED2828;
  cursor: pointer;
}
.fa-plus:hover {
  color: #4599A8;
  cursor: pointer;
}

.fa-images:hover {
  color: #4599A8;
  cursor: pointer;
}
.fa-file-alt:hover {
  color: #4599A8;
  cursor: pointer;
}
.fa-film:hover {
  color: #4599A8;
  cursor: pointer;
}
.fa-smile:hover {
  color: #4599A8;
  cursor: pointer;
}
#socialFeedHover:hover .fa-home{
  color: #4599A8 !important;
  cursor: pointer;
}
#socialFeedHover:hover .textChange{
  color: #4599A8 !important;
  cursor: pointer;
}
#explorePageHover:hover .fa-eye{
  color: #3652E0 !important;
  cursor: pointer;
}
#explorePageHover:hover .textChange{
  color: #3652E0 !important;
  cursor: pointer;
}

#settingsPageHover:hover .fa-sliders-h{
  color:#576EEB !important;
  cursor: pointer;
}
#settingsPageHover:hover .textChange{
  color:#576EEB !important;
  cursor: pointer;
}

#shopPageHover:hover .fa-gem{
  color:#ED2828 !important;
  cursor: pointer;
}
#shopPageHover:hover .textChange{
  color:#ED2828 !important;
  cursor: pointer;
}
#playPageHover:hover .fa-gamepad{
  color:green !important;
  cursor: pointer;
}
#playPageHover:hover .textChange{
  color:green !important;
  cursor: pointer;
}
#walletPageHover:hover .fa-wallet{
  color:#C02EAE !important;
  cursor: pointer;
}
#walletPageHover:hover .textChange{
  color:#C02EAE !important;
  cursor: pointer;
}

.form-control:focus {
  outline: none !important;
  border:1px solid red;
  box-shadow: 0 0 10px #719ECE;
}
.neonAnimated {
  outline: none !important;
  box-shadow: 0 0 10px #719ECE;
  animation-name: neonGlow;
  animation-duration: 4s;
  animation-iteration-count: infinite;
}
@keyframes neonGlow {
  0% {box-shadow: 0 0 10px #719ECE;}
  12% {box-shadow: 0 0 20px  #719ECE;}
  25% {box-shadow: 0 0 10px #719ECE;}
}
.neon {
  outline: none !important;
  box-shadow: 0 0 10px #719ECE;
}
.neonStrong {
  outline: none !important;
  box-shadow: 0 0 20px #FAF41E;
}
.neon-white {
  outline: none !important;
  box-shadow: 0 0 10px #fff;
}
.textChange {

  color: #D6D6D6;
}
.iconColor {
  color: #D6D6D6;
}
.btn:hover {
  outline: none !important;
  box-shadow: 0 0 10px rgb(129,143,225);
}
.btn:focus{
  background-color: #535353;
  border-color: #535353;
  box-shadow: none!important;
  outline: 0;
}

.boxesColor {
  background-color:#313334;
}
.boxesBioColor{
  background-color:#535353;
}
.boxesCommentColor{
  background-color:#535353;
}
.boxesLine {
  border-top: 1px solid #535353
}
.boxesLineTop {
  border-bottom: 1px solid #535353
}
.textAreaTheme {
  border: solid 1px #535353;
  background-color:#535353; color:white;
}
.changeSushiButtonTextColor{
  color: #D6D6D6;
}
.changeButtonColor{
  background-color: #535353;
  border-color: #535353;
}
.changeButtonColor:hover{
  background-color: #535353;
  border-color: #535353;
}

.changeButtonTextColor{
  color: rgb(129,143,225)
}
.changeButtonTextColor:hover{
  color: rgb(129,143,225)
}
.boxesShadow {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}
.backgroundColor{
  background-color: #1D1D1F
}

.backgroundColorSideBar{
  background-color: #313334;
  box-shadow: 0 0px 0px -5px rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}
.backgroundColorNavBar{
  background-color: #112F46;
}
.textBox{
  border: solid 1px #535353;
  background-color:#535353;
  color:white;
  font-size: 18px;
}
.textBox:focus{
  border: solid 1px #535353;
  background-color:#535353;
  color:white;
  font-size: 18px;
}
div.sticky {
  position: -webkit-sticky; /* Safari */
  position: sticky;
  top: 0;
}


.middle {
  position: absolute;
  top: 50%;
  left: 51%;
  color: white;
  font-size: 25px;
}

.btn-close{
filter: invert(24%) sepia(89%) saturate(6838%) hue-rotate(356deg) brightness(103%) contrast(96%);
}
a {
  text-decoration: none;
  color: black;
}
a:hover {
  color: #D6D6D6;
}
p {
  color: white;
}
h6 {
  color: white;
}
textarea{
  overflow-y: hidden;
}

:root {
  /* Set neon color */
  --neon-text-color: #f40;
  --neon-border-color: #08f;
}
.neonSign{
  font-family: 'Exo 2', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 2vh;
  font-size: 4rem;
  font-weight: 200;
  font-style: italic;
  color: #fff;
  padding: 2rem 6rem 2rem;
  border: 0.4rem solid #fff;
  border-radius: 2rem;
  text-transform: uppercase;
  animation: flicker 1.5s infinite alternate;
}

/* Animate neon flicker */
@keyframes flicker {

    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {

        text-shadow:
            -0.2rem -0.2rem 1rem #fff,
            0.2rem 0.2rem 1rem #fff,
            0 0 2rem var(--neon-text-color),
            0 0 4rem var(--neon-text-color),
            0 0 6rem var(--neon-text-color),
            0 0 8rem var(--neon-text-color),
            0 0 10rem var(--neon-text-color);

        box-shadow:
            0 0 .5rem #fff,
            inset 0 0 .5rem #fff,
            0 0 2rem var(--neon-border-color),
            inset 0 0 2rem var(--neon-border-color),
            0 0 4rem var(--neon-border-color),
            inset 0 0 4rem var(--neon-border-color);
    }
    20%, 24%, 55% {
        text-shadow: none;
        box-shadow: none;
    }
}
pre {
    white-space: pre-wrap;       /* Since CSS 2.1 */
    white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
    white-space: -pre-wrap;      /* Opera 4-6 */
    white-space: -o-pre-wrap;    /* Opera 7 */
    word-wrap: break-word;       /* Internet Explorer 5.5+ */
}
</style>
  <body class="backgroundColor" > <!-- 313334 -->
    <section id="newAccount" class="vh-100 backgroundColor" style="display: none"> <!--  #3C719D-->
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="modal-content boxesColor">
              <div class="modal-header boxesLineTop text-center">
                <h5 class="modal-title textChange text-center" id="userAccountLabel">New Account Creation</h5>
              </div>
              <div class="modal-body">
                <div class="row align-items-start" >
                  <div class="col-4">
                  </div>
                  <div id="newProfileImageArea" class="col-4 text-center">
                    <span id="defaultNewUserIcon" class="iconColor" style="font-size: 4.5em;">
                        <i class="fas fa-user-secret"></i>
                    </span>
                  </div>
                  <div class="col-4">
                  </div>
                </div>
                <div class="row align-items-start" >
                  <div class="col-2">
                  </div>
                  <div class="col-8 text-center">
                    <h6 class="textChange" style="border-radius: 20px;" >Select a User Profile Image (Optional)</h6>
                    <span class="iconColor" style="font-size: 1.5em;">
                      <label for='newProfileImage'>
                        <i class="fas fa-images"></i>
                      </label>
                      <input id='newProfileImage' accept="image/png, image/gif, image/jpeg" type='file' onchange="handleNewUserProfileImage(this)" onclick="this.value = null" name="MAX_FILE_SIZE" value="10485760" style="display: none">
                    </span>
                  </div>
                  <div class="col-2">
                  </div>
                </div>
                <div class="row align-items-start" style="margin:20px 0px 20px">
                <div class="col-12">
                  <div class="row align-items-start">
                    <h6 class="textChange" style="padding:0px 0px 0px 0px;" >Pick a Username (Required)</h6>
                      <textarea id="newUsername" class="form-control textBox" placeholder="Username" rows="1" ></textarea>
                  </div>
                </div>
                </div>
                <div class="row align-items-start" style="margin:20px 0px 20px">
                <div class="col-12">
                  <div class="row align-items-start">
                    <h6 class="textChange" style="padding:0px 0px 0px 0px;" >Write a User Profile Bio (Optional)</h6>
                      <textarea id="newProfileBio" class="form-control textBox" placeholder="Bio" rows="1" ></textarea>
                  </div>
                </div>
                </div>
                <div class="row align-items-start" style="margin:20px 0px 20px">
                <div class="col-9">
                  <h6 class="textChange" style="padding:0px 0px 0px 0px; margin-top:7px" >This will be permanently on the Blockchain</h6>
                </div>
                <div class="col-3 text-center">
                  <button type="button" onclick="createUserProfile()" class="btn changeButtonColor changeButtonTextColor">
                    Submit
                  </button>
                </div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="loginForm" class="vh-100 backgroundColor" style="display: none"> <!--  #3C719D-->
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="card shadow-2-strong neonAnimated" style="border-radius: 1rem;" style="background-color: #313334"> <!--  #F5F0F2-->
              <div class="card-body p-5 text-center boxesColor" >
                <div class="row align-items-start">
                <img  src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png" id="loginLogo" alt="Logo-01" border="0" style="display: block; margin:auto; padding:0px 0px 60px 0px; max-width: 60%" >
                </div>


                <div class="row align-items-start">
                <button class="btn btn-lg btn-block neon-white changeButtonColor changeButtonTextColor" type="submit" onClick="login();"><b>Login with Metamask</b></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div id="mainPage" class="container-lg" style="background-color: #1D1D1F;" onload="onFirstLoad()">
  <!-- confirmationModal start -->
  <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title" id="exampleModalLabel" style = "color: red;">DISCLAIMER!</h5>
          <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h5 class="mb-5 textChange" style="margin-bottom: 10px!important">This will be permanently on the blockchain and associated to your public account. You cannot remove it once the action is complete. Are you sure you want to continue?</h5>
        </div>
        <div class="modal-footer boxesLine">
          <button type="button" class="btn changeButtonColor changeButtonTextColor" data-bs-dismiss="modal">Cancel</button>
          <button id="confirmToBlockchain" type="button" class="btn changeButtonColor changeButtonTextColor" data-bs-dismiss="modal" onClick="uploadFileandPostToBlockChain();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- iFrameModal start -->
  <div class="modal fade" id="iFrameModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" style="width:60%;max-width:715px;min-width:715px; border-radius: 20px; max-height:500px">
      <div class="modal-content boxesColor">
        <div class="modal-body">
          <div style="overflow: hidden; margin: 15px auto; max-width: 1280px;">
            <iframe scrolling="no" src="" style="border: 0px none; margin-left: -300px; height: 600px; margin-top: -50px; width: 1280px;">
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal End -->
  <!-- gifModal start -->
  <div class="modal fade" id="gifModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title align-center textChange" id="linkModalLabel">Link Gif from Giphy</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="gifLink" class="form-control textBox" placeholder="Paste Link Here" rows="1"></textarea>
        </div>
        <div class="modal-footer boxesLine">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="handleUserGif();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- linkModal start -->
  <div class="modal fade" id="linkModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title align-center textChange" id="linkModalLabel">Link to Website</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="link" class="form-control textBox" placeholder="Paste Link Here" rows="1"></textarea>
        </div>
        <div class="modal-footer boxesLine">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="handleUserLink();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- followingModal start -->
  <div class="modal fade" id="followModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title align-center textChange" id="linkModalLabel">Follow New User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <textarea id="followAddress" class="form-control textBox" placeholder="Paste Address Here: 0x....." rows="1"></textarea>
        </div>
        <div class="modal-footer boxesLine">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="followNewUser()">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- donationModal start -->
  <div class="modal fade" id="donationModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title textChange" id="exampleModalLabel">Donate Ethereum</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h5 class="mb-5 textChange" style="margin-bottom: 10px!important">How much money would you like to donate to?</h5>
          <h5 id="donationRecipient" class="mb-5 textChange" style="margin-bottom: 10px!important"></h5>
          <textarea id="donationAmount" class="form-control textBox" placeholder="Enter in USD" rows="1"></textarea>
        </div>
        <div class="modal-footer boxesLine">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button id="confirmToBlockchain" type="button" class="btn btn-primary" data-bs-dismiss="modal" onClick="donateEthereum();">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- userModal start -->
  <div class="modal fade" id="userAccountModal" tabindex="-1" aria-labelledby="userAccountModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" id="userAccountModalContent" style="width:40%;max-width:1250px;min-width:600px; border-radius: 20px;">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title textChange" id="userAccountLabel">Your Social Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row align-items-start" >
            <div class="col-3">
              <span class="iconColor" style="font-size: 4.5em; margin-left:30px">
                  <i class="fas fa-user-secret"></i>
              </span>
            </div>
            <div class="col-5">
            <div class="row align-items-start">
                <h6 class="modal-title textChange" style="margin-bottom: 5px">Johny Boy</h6>
            </div>
            <div class="row align-items-start">
              <h6 class="modal-title textChange" style="margin-bottom: 5px">@0x5784683285868....</h6>
            </div>
            <div class="row align-items-start">
              <div class="col-2">
              <span class="iconColor" style="font-size: 1.5em;">
                  <i class="far fa-calendar-alt"></i>
              </span>
              </div>
              <div class="col-10" style="padding:4px;">
              <h6 class="modal-title textChange" style="margin-top: 5px">Since July 24, 2017</h6>
              </div>
            </div>
            </div>
            <div class="col-4">
              <div class="row align-items-start">
                <div class="col-2">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="far fa-user"></i>
                </span>
                </div>
                <div class="col-10">
                <h6 class="modal-title textChange" style="margin-top: 5px">56 Followers</h6>
                </div>
              </div>
              <div class="row align-items-start">
                <div class="col-2">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="far fa-comment-alt"></i>
                </span>
                </div>
                <div class="col-10">
                <h6 class="modal-title textChange" style="margin-top: 5px">23 Posts</h6>
                </div>
              </div>
            </div>
          </div>
          <div class="row align-items-start" style="margin:20px 0px 20px">
          <div class="col-12">
            <div class="row align-items-start">
              <p class="textChange boxesShadow boxesBioColor" style="border-radius: 20px; padding:10px 20px 10px 20px;" >Nullam quis risuse magnis dis parturient montes, nascetur ridiculus mus. Nullam id</p>
            </div>
          </div>
          </div>
          <div class="row align-items-start">
            <div class="col-12">
              <div class="card mb-3 boxesColor neon" >
              <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
                <div class="row align-items-start">
                  <div class="col-1">
                    <span class="iconColor" style="font-size: 2em;">
                        <i class="fas fa-user-secret"></i>
                    </span>
                  </div>
                  <div class="col-10">
                    <div class="row align-items-start">
                      <h6 class="textChange" style="margin-bottom:0px;">John @ 0x4783GW783T74838 posted</h6>
                    </div>
                    <div class="row align-items-start text-left">
                      <p class="textChange" >18th Oct 5:23 PM</p>
                    </div>
                  </div>
                  <div class="col-1 text-left">
                    <span class="iconColor" style="font-size: 1.5em;">
                        <i class="far fa-star"></i>
                    </span>
                  </div>
                </div>
              </div>
              <div class="card-body" id="0x510" style ="border-top: 1px solid #535353" >
                <div class="row align-items-start">
                  <div id="messageContent" class="col-12">
                  <p class="textChange">Nullam quis risuse magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula. d nibh ultricies vehicula d nibh ultricies.</p>
                  </div>
                </div>
                <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
                  <div class="col-3 text-center">
                    <div class="row align-items-start">
                      <div class="col-4 text-center">
                      </div>
                      <div class="col-2 text-center" style="padding:0px">
                        <a class="iconColor" style="font-size: 1.5em;">
                          <i class="far fa-heart"></i>
                        </a>
                      </div>
                      <div class="col-4 text-center">
                        <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">56</h6>
                      </div>
                      <div class="col-2 text-center">
                      </div>
                      </div>
                  </div>
                  <div class="col-3 text-center">
                    <div class="row align-items-start">
                      <div class="col-4 text-center">
                      </div>
                      <div class="col-2 text-center" style="padding:0px">
                        <a class="iconColor" style="font-size: 1.5em;">
                          <i class="far fa-comments" onclick="renderCommentArea('0x51','0')"></i>
                        </a>
                      </div>
                      <div class="col-4 text-center">
                        <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">56</h6>
                      </div>
                      <div class="col-2 text-center">
                      </div>
                      </div>
                  </div>
                  <div class="col-3 text-center">
                    <div class="row align-items-start">
                      <div class="col-5 text-center">
                      </div>
                      <div class="col-2 text-center" style="padding:0px">
                        <a class="iconColor" style="font-size: 1.5em;">
                          <i class="far fa-share-square"></i>
                        </a>
                      </div>
                      <div class="col-45text-center">

                      </div>

                      </div>
                  </div>
                  <div class="col-3 text-center">
                    <a class="iconColor" style="font-size: 1.5em;">
                      <i class="fab fa-ethereum"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- savedPostModal start -->
  <div class="modal fade" id="savedPostModal" tabindex="-1" aria-labelledby="userAccountModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" id="savedPostModalContent" style="width:35%;min-width:550px;max-width:1250px; border-radius: 20px;">
      <div class="modal-content" style="border-radius: 20px; background-color:#313334;">
          <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                <span class="iconColor" style="font-size: 2em;">
                    <i class="fas fa-user-secret"></i>
                </span>
              </div>
              <div class="col-10">
                <div class="row align-items-start">
                  <h6 class="textChange" style="margin-bottom:0px;">John @ 0x4783GW783T74838 posted</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p class="textChange">18th Oct 5:23 PM</p>
                </div>
              </div>
              <div class="col-1 text-left">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="far fa-star"></i>
                </span>
              </div>
            </div>
          </div>
        <div class="modal-body" style="padding:0px">
          <div class="card-body" id="savedPostModalCommentID" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div class="col-12">
              <p class="textChange">Nullam quis risuse magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula. d nibh ultricies vehicula d nibh ultricies.</p>
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
              <div class="col-3 text-center">
                <div class="row align-items-start">
                  <div class="col-4 text-center">
                  </div>
                  <div class="col-2 text-center" style="padding:0px">
                    <a class="iconColor" style="font-size: 1.5em;">
                      <i class="far fa-heart"></i>
                    </a>
                  </div>
                  <div class="col-2 text-center">
                    <h6 class="textChange" style="margin:8px 0px 0px; padding:0px">56</h6>
                  </div>
                  <div class="col-4 text-center">
                  </div>
                  </div>
              </div>
              <div class="col-3 text-center">
                <div class="row align-items-start">
                  <div class="col-4 text-center">
                  </div>
                  <div class="col-2 text-center" style="padding:0px">
                    <a class="iconColor" style="font-size: 1.5em;">
                      <i class="far fa-comments" onclick="renderCommentArea('0x53','0')"></i>
                    </a>
                  </div>
                  <div class="col-2 text-center">
                    <h6 class="textChange" style="margin:8px 0px 0px 4px; padding:0px">56</h6>
                  </div>
                  <div class="col-4 text-center">
                  </div>
                  </div>
              </div>
              <div class="col-3 text-center">
                <div class="row align-items-start">
                  <div class="col-5 text-center">
                  </div>
                  <div class="col-2 text-center" style="padding:0px">
                    <a class="iconColor" style="font-size: 1.5em;">
                      <i class="far fa-share-square"></i>
                    </a>
                  </div>
                  <div class="col-5 text-center">
                  </div>

                  </div>
              </div>
              <div class="col-3 text-center">
                <a class="iconColor" style="font-size: 1.5em;">
                  <i class="fab fa-ethereum"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->
  <!-- inboxModal start -->
  <div class="modal fade" id="inboxModal" tabindex="-1" aria-labelledby="inboxtModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" id="userAccountModalContent" style="width:40%;max-width:1250px;min-width:600px; border-radius: 20px;">
      <div class="modal-content boxesColor">
        <div class="modal-header boxesLineTop">
          <h5 class="modal-title textChange" id="userAccountLabel">Mail Center</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="inboxModalBody">
          <h5 class="textChange"  style="padding:0px 0px 5px" >To:</h5>
          <textarea id="inboxToAddress" class="form-control textBox" placeholder="Enter Recipient: 0x......" rows="1"></textarea>
          <h5 class="textChange"  style="padding:10px 0px 5px">Message:</h5>
          <textarea id="inboxMessage" class="form-control textBox" placeholder="Write your message here" rows="1"></textarea>
          <div class="row align-items-start" style="padding:20px 0px 20px">
          <div class="col-10">
          <h6 class="textChange"  style="padding:10px 0px 5px"><b>Disclaimer:</b> Anything you send will be permanently on the blockchain!</h6>
          </div>
          <div class="col-2">
          <button type="button" class="btn changeButtonColor changeButtonTextColor" onclick="sendMessage()" style="float:right;">Send</button>
          </div>
          </div>
          <h5 class="modal-title textChange boxesLine boxesLineTop" id="userAccountLabel" style="margin: 00px 0px 10px; padding:10px 0px 10px">Your Inbox</h5>
          <div class="card mb-3 boxesColor boxesShadow" style="border-radius: 20px;">
          <div class="card-header boxesColor" style ="border-radius: 20px; border: 0px;">
            <div class="row align-items-start">
              <div class="col-1">
                <span class="iconColor" style="font-size: 2em;">
                    <i class="fas fa-user-secret"></i>
                </span>
              </div>
              <div class="col-10">
                <div class="row align-items-start">
                  <h6 class="textChange" style="margin-bottom:0px;">John @ 0x4783GW783T74838</h6>
                </div>
                <div class="row align-items-start text-left">
                  <p class="textChange" >18th Oct 5:23 PM</p>
                </div>
              </div>
              <div class="col-1 text-left">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i onclick="replytoMessage('0xthtfhfhtf')" class="fas fa-reply iconColor"></i>
                  </span>
              </div>
            </div>
          </div>
          <div class="card-body" style ="border-top: 1px solid #535353" >
            <div class="row align-items-start">
              <div id="messageContent" class="col-12">
              <p class="textChange">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip </p>
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px; border-top: 1px solid #535353">
            </div>
          </div>
        </div>

        </div>
      </div>
    </div>
  </div>
  <!-- Modal End -->


      <div class="row align-items-start  backgroundColor"  style ="padding-top: 0px;">
          <div class="col-3 min-vh-100 sticky backgroundColorSideBar" style="padding:20px 20px 0px;">
            <div class="row align-items-start">
            <img src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png" id="logoSideBar" alt="Logo-01" border="0" style="display: block; margin:auto; padding:0px 0px 10px 0px; max-width: 60%" >
            </div>
            <div id="socialFeedHover" onclick="loadSocialFeedPage()" class="row align-baseline" style = "padding-top: 10px">
                <div class="col-5 text-end" style = "padding-right: 0px;">
                  <span class="iconColor" style="font-size: 1.5em;">
                      <i class="fas fa-home"></i>
                  </span>
                </div>
                <div class="col-5 text-left align-bottom">
                  <h6 class="textChange"  style="margin-top:7px; font-size: 1.25em;">Social Feed</h6>
                </div>
            </div>
          <div id="explorePageHover" onclick="loadExplorePage()" class="row align-baseline" style = "padding-top: 10px">
              <div class="col-5 text-end" style = "padding-right: 0px;">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="far fa-eye"></i>
                </span>
              </div>
              <div class="col-5 text-left align-bottom">
                <h6 class="textChange" style="margin-top:7px; font-size: 1.25em;">Explore</h6>
              </div>
          </div>
          <div id="shopPageHover" onclick="loadShopPage()" class="row align-baseline" style = "padding-top: 10px">
              <div class="col-5 text-end" style = "padding-right: 0px;">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="far fa-gem"></i>
                </span>
              </div>
              <div class="col-5 text-left align-bottom">
                <h6 class="textChange" style="margin-top:7px; font-size: 1.25em;">Shop</h6>
              </div>
          </div>
          <div id="walletPageHover" onclick="loadWalletPage()" class="row align-baseline" style = "padding-top: 10px">
              <div class="col-5 text-end" style = "padding-right: 0px;">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="fas fa-wallet"></i>
                </span>
              </div>
              <div class="col-5 text-left align-bottom">
                <h6 class="textChange" style="margin-top:7px; font-size: 1.25em;">NFTs</h6>
              </div>
          </div>
          <div id="playPageHover" onclick="loadPlayPage()" class="row align-baseline" style = "padding-top: 10px">
              <div class="col-5 text-end" style = "padding-right: 0px;">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="fas fa-gamepad"></i>
                </span>
              </div>
              <div class="col-5 text-left align-bottom">
                <h6 class="textChange" style="margin-top:7px; font-size: 1.25em;">Play</h6>
              </div>
          </div>
          <div id="settingsPageHover" onclick="loadSettingsPage()" class="row align-baseline" style = "padding-top: 10px">
              <div class="col-5 text-end" style = "padding-right: 0px;">
                <span class="iconColor" style="font-size: 1.5em;">
                    <i class="fas fa-sliders-h"></i>
                </span>
              </div>
              <div class="col-5 text-left align-bottom">
                <h6 class="textChange" style="margin-top:7px; font-size: 1.25em;">Settings</h6>
              </div>
          </div>
          <div class="row align-baseline" style = "padding-top: 10px">
            <div class="col-5" style = "padding-right: 0px">
              <div class="form-check form-switch text-center">
                <input class="form-check-input" style = "transform: scale(1.2); float:right; margin:4px 2px 0px 0px; padding:10px 0px 0px;"  onClick="toggleLightMode()" type="checkbox" id="flexSwitchCheckChecked" checked/>
              </div>
            </div>
            <div class="col-5 text-left">
                <h6 class="textChange" style="margin-bottom:0px; font-size: 1.25em;" >Dark Mode</h6>
            </div>
          </div>
          <div class="row align-baseline" style = "padding-top: 10px">
            <div class="col-5" style = "padding-right: 0px">
              <div class="form-check form-switch text-center">
                <input class="form-check-input" style = "transform: scale(1.2); float:right; margin:4px 2px 0px 0px; padding:10px 0px 0px;"  onclick="toggleNitroGas()" type="checkbox" id="flexSwitchCheckChecked" unchecked/>
              </div>
            </div>
            <div class="col-5 text-left">
                <h6 class="textChange" style="margin-bottom:0px; font-size: 1.25em;" >Nitro Gas</h6>
            </div>
          </div>
          </div>
          <div class="col-9">
            <div class="row align-items-start backgroundColorNavBar" style = "border-radius: 0px 10px 10px 0px;">
              <div class="col-3">
                  <h2 style="color: white; margin: 6px 0px 8px 40px;"></h2>
              </div>
              <div class="col-4">
              </div>
              <div id="messagingNotificationsUserProfile" class="col-2 text-center">
              </div>
              <div id="userProfileOverview" class="col-1">
              </div>
              <div class="col-2" style = "padding-top: 7px">
                <button type="button" class="btn btn-secondary changeButtonColor changeButtonTextColor" style="float:right" onClick="logOut();">Logout</button>
              </div>
            </div>
          <div id="socialFeedPage" class="row align-items-start">
          <div id="socialFeedPostsContainer" class="col-9" style ="padding-top: 20px;">
            <div id="postSomething" class="card mb-3 boxesColor boxesShadow" style="border-radius: 20px;">
                <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Post Something</b></div>
                <div class="card-body boxesLine">
                  <div class="row align-items-start">
                    <div id="userIconPost" class="col-1">
                      <span class="iconColor" style="font-size: 2em;">
                          <i class="fas fa-user-secret"></i>
                      </span>
                    </div>
                    <div id ="textArea" class="col-11">
                      <textarea id="messageToPost" class="form-control textBox" placeholder="Share your thoughts..." rows="1" ></textarea>



                    </div>

                  </div>
                  <div class="row align-items-start" style ="padding-top: 10px;">
                    <div class="col-1">
                    </div>
                    <div class="col-6">
                      <span class="iconColor" style="font-size: 1.5em;">
                        <label for='upload'>
                          <i style ="padding-left: 10px;" class="fas fa-file-alt"></i>
                        </label>
                        <input id='upload' type='file' onchange="handleUserFile(this)" onclick="this.value = null" name="MAX_FILE_SIZE" value="10485760" style="display: none">
                      </span>
                      <span class="iconColor" style="font-size: 1.5em;">
                        <label for='imageUpload'>
                          <i style ="padding-left: 10px;" class="fas fa-images"></i>
                        </label>
                        <input id='imageUpload' accept="image/png, image/gif, image/jpeg" type='file' onchange="handleUserImage(this)" onclick="this.value = null" name="MAX_FILE_SIZE" value="10485760" style="display: none">
                      </span>
                      <span class="iconColor" style="font-size: 1.5em;">
                          <i data-bs-toggle="modal" data-bs-target="#gifModal" style ="padding-left: 10px;" class="fas fa-film"></i>
                      </span>
                      <span class="iconColor" style="font-size: 1.5em;"> <!-- Probably a neater way to do the smiley box. -->
                          <i style ="padding-left: 10px;" onclick="showEmojiBox();" class="far fa-smile"></i>
                          <div id ="smileyBox" class="neon boxesColor" style="position: absolute; z-index: 100; margin:0px 0px 0px 130px; display: none"><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><br><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span><span style="cursor: pointer; font-size: 25px;" onclick="insertEmoji(``)"></span></div>
                      </span>

                    </div>
                    <div class="col-5 text-end">
                      <button type="button" class="btn changeButtonColor changeButtonTextColor" data-bs-toggle="modal" data-bs-target="#postModal">
                        Submit
                      </button>

                    </div>
                  </div>
                </div>
          </div>

          </div>
          <div class="col-3" style ="padding-top: 20px;">
            <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px;">
            <div class="card-header boxesColor text-center textChange"  style="border-radius: 20px; border: 0px;"><b>Following</b></div>
            <div class="card-body" style ="border-top: 1px solid #535353">
              <div class="row align-items-start">
                <div id="followerList" class="col-12">
                  <h6 class = "text-center textChange" type="button" data-bs-toggle="modal" data-bs-target="#savedPostModal">nickName  0x252d2623a...</h6>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                  <span class="iconColor" style="font-size: 1em;">
                      <i data-bs-toggle="modal" data-bs-target="#followModal" class="fas fa-plus"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px;">
          <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Saved Posts</b></div>
          <div class="card-body" style ="border-top: 1px solid #535353">
            <div class="row align-items-start">
              <div id="savedList" class="col-12">
              </div>
            </div>
            <div class="row align-items-start" style ="padding-top: 10px;">
              <div class="col-12 text-center">
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px; ">
        <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Support Us!</b></div>
        <div class="card-body" style ="border-top: 1px solid #535353">
          <img alt="" id="supportUsLogo" src="https://ipfs.io/ipfs/QmQnBt2MLdPYUqYxqNEptmgLmerpTpuAQxfc79nyZxUEc6?filename=logoDarkMode.png" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="150px !important" height="150px"  >
          <div class="row align-items-start" style ="padding-top: 10px;">
            <div class="col-12 text-center">
                <button type="button" class="btn btn-secondary changeButtonColor changeButtonTextColor" data-bs-toggle="modal" data-bs-target="#donationModal" onclick="donationAddress('0x252d2f2293098AF088623a641546c98687DeB884','Founder')" style="border-radius: .375rem!important; justify-content: center!important; ">
                Donate</button>
            </div>
          </div>
        </div>
      </div>
          </div>
          </div>
          <div id="shopPage" class="row align-items-start" style="display:none;">
          <div class="row align-items-start">
            <div class="col-2" style="margin-top:40px;">

            </div>
            <div class="col-8" style="margin-top:40px;">
              <h1 class="neonSign" contenteditable spellcheck="false">store</h1>
            </div>
            <div class="col-2" style="margin-top:40px;">

            </div>
          </div>
          <div class="row align-items-start" style ="padding-top: 40px;">
            <div class="col-1" >
                </div>
              <div class="col-10" >
                  <div class="row align-items-start" style ="padding-top: 40px;">
              <div class="col-4" >
                <div class="card mb-3 boxesColor neon" style="max-width: 30rem; border-radius: 20px; margin: 0px 20px 0px;">
                <div class="card-body">
                  <div class="row align-items-start">
                      <img src="https://ipfs.io/ipfs/QmV6sSBxnNt9HDd5NjPyFBSG7K92ezLf2EJ7q1AETcAeyY?filename=smallJewels.png" alt="jewels" width="100%" height="100%">
                  </div>
                  <div class="row align-items-start" style ="padding-top: 10px;">
                    <div class="col-12 text-center">
                        <h4 class="textChange">10,000 DSN</h4>
                        <h6 class="textChange">0.000025 Ether</h6>
                    </div>
                  </div>
                  <div class="row align-items-start" style ="padding-top: 10px;">
                    <div class="col-12 text-center">
                        <button type="button" onclick="contractBuySmallTokens()" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Exchange</button>
                    </div>
                  </div>
                </div>
              </div>
              </div>
              <div class="col-4">
                  <div class="card mb-3 boxesColor neonStrong" style="max-width: 30rem; border-radius: 20px; margin: 0px 20px 0px;">
                  <div class="card-body">
                    <div class="row align-items-start">
                        <img src="https://ipfs.io/ipfs/QmZhjzrn7QBiwzVT3PZ8XtgtaVBZs84fkLH8uoWGkvpEmC?filename=MediumJewels.png" alt="jewels" width="50%" height="50%">
                    </div>
                    <div class="row align-items-start" style ="padding-top: 10px;">
                      <div class="col-12 text-center">
                          <h4 class="textChange">20,000 DSN</h4>
                          <h6 class="textChange">0.00004 Ether</h6>
                      </div>
                    </div>
                    <div class="row align-items-start" style ="padding-top: 10px;">
                      <div class="col-12 text-center">
                          <button type="button" onclick="contractBuyMediumTokens()" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Exchange</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-4">
                  <div class="card mb-3 boxesColor neon" style="max-width: 30rem; border-radius: 20px; margin: 0px 20px 0px;">
                  <div class="card-body">
                    <div class="row align-items-start">
                        <img src="https://ipfs.io/ipfs/QmWqDhWkktKTHTGjzBETcEeKsmMnKUsNvNtcV1Eb5AbjLh?filename=LargeJewels.png" alt="jewels" width="50%" height="50%">
                    </div>
                    <div class="row align-items-start" style ="padding-top: 10px;">
                      <div class="col-12 text-center">
                          <h4 class="textChange">100,000 DSN</4>
                          <h6 class="textChange">0.00015 Ether</h6>
                      </div>
                    </div>
                    <div class="row align-items-start" style ="padding-top: 10px;">
                      <div class="col-12 text-center">
                          <button type="button" onclick="contractBuyLargeTokens()" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Exchange</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              </div>
              </div>
              <div class="col-1" >
              </div>
          </div>
          <div class="row align-items-start" style ="padding-top: 40px;">
          <div class="col-4" >
            <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
            <div class="card-body">
              <div class="row align-items-start">
                  <img src="https://ipfs.io/ipfs/QmVNi1MrwAbrBEjSoQNYRyEnJAP7FUQq9pS5htYH2KMEqc?filename=Virginia.png" alt="jewels" width="30%" height="30%">
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                      <h4 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Virginia</b></h4>
                      <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Agility:</b> 250 + ?</h6>
                      <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Strength:</b> 250 + ?</h6>
                      <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Charm:</b> 250 + ?</h6>
                      <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Sneak:</b> 500 + ?</h6>
                      <h6 class="textChange">0.002 Ether</h6>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                    <button type="button" onclick="mintAnyCharacter('Virginia','0')" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Mint</button>
                </div>
              </div>
            </div>
          </div>
          </div>
          <div class="col-4" >
            <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
            <div class="card-body">
              <div class="row align-items-start">
                  <img src="https://ipfs.io/ipfs/QmNRwffsNJNRq6e4YX63sf6tpSt9vwMc4P1ztZ2UvhZV8u?filename=Florida.png" alt="jewels" width="30%" height="30%">
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                  <h4 class="textChange"><b>Florida</b></h4>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Agility:</b> 250 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Strength:</b> 250 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Charm:</b> 500 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Sneak:</b> 250 + ?</h6>
                  <h6 class="textChange">0.002 Ether</h6>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                    <button type="button" onclick="mintAnyCharacter('Florida','1')" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Mint</button>
                </div>
              </div>
            </div>
          </div>
          </div>
          <div class="col-4" >
            <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
            <div class="card-body">
              <div class="row align-items-start">
                  <img src="https://ipfs.io/ipfs/QmRajorfwuFupWq6RoasUdQtxcWsoVta8NH12EVHeHi5Wn?filename=Alaska.png" alt="jewels" width="30%" height="30%">
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                  <h4 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Alaska</b></h4>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Agility:</b> 250 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Strength:</b> 500 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Charm:</b> 250 + ?</h6>
                  <h6 class="textChange" data-bs-toggle="tooltip" data-bs-placement="bottom" title="? = 0-100 Randomly Generated by Chainlink VRF"><b>Sneak:</b> 250 + ?</h6>
                  <h6 class="textChange">0.002 Ether</h6>
                </div>
              </div>
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                    <button type="button" onclick="mintAnyCharacter('Alaska','2')" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Mint</button>
                </div>
              </div>
            </div>
          </div>
          </div>
        </div>
          <div class="row align-items-start" style ="padding-top: 10px;">
            <div class="col-1" >
                </div>
            <div class="col-10" >
            <div class="row align-items-start" style ="padding-top: 40px;">
                    </div>
          </div>
          <div class="col-1" >
              </div>
        </div>
          </div>

          <div id="explorePostsPage" class="row align-items-start" style="display:none; margin-top:20px;">
            <div id="explorePostsContainer" class="col-9">

            </div>
            <div class="col-3 sticky">
              <div class="card mb-3 boxesColor boxesShadow"  style="max-width: 30rem; border-radius: 20px;">
              <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Token Swap</b></div>
              <div class="card-body" style ="border-top: 1px solid #535353">
                <img alt="" src="https://raw.githubusercontent.com/sushiswap/sushi-content/master/products/chopsticks.png" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="64px !important" height="81px"  >
                <div class="row align-items-start" style ="padding-top: 10px;">
                  <div class="col-12 text-center">
                      <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Sushiswap</h6>
                      <button type="button" class="btn btn-secondary changeSushiButtonTextColor" style="border-radius: .375rem!important; justify-content: center!important; background-image: linear-gradient(to right, rgb(1, 110, 218), rgb(217, 0, 192))">
                      <a href="https://app.sushi.com/swap" data-bs-toggle="modal" data-bs-target="#iFrameModal" target="_blank" class="changeSushiButtonTextColor">
                      Enter Exchange</a></button>
                  </div>
                </div>
              </div>
            </div>
            <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px; ">
            <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Flight Insurance</b></div>
            <div class="card-body" style ="border-top: 1px solid #535353">
              <img alt="" src="https://etherisc.com/assets/flight-delay-icon.97de55.svg" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="80px !important" height="100px"  >
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                    <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Etherisc</h6>
                    <button type="button" class="btn btn-secondary changeButtonColor changeButtonTextColor" style="border-radius: .375rem!important; justify-content: center!important; ">
                    <a href="https://fdd.etherisc.com/#/" target="_blank" class="changeButtonTextColor">
                    Enter App</a></button>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px;">
          <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>dAPP Building</b></div>
          <div class="card-body" style ="border-top: 1px solid #535353">
            <img alt="" src="https://moralis.io/wp-content/uploads/2021/07/bigicon_hero2.svg" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="80px !important" height="100px"  >
            <div class="row align-items-start" style ="padding-top: 10px;">
              <div class="col-12 text-center">
                  <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Moralis</h6>
                  <button type="button" class="btn btn-secondary changeButtonColor" style="border-radius: .375rem!important; justify-content: center!important; ">
                  <a href="https://moralis.io/" target="_blank" class="changeButtonTextColor">
                  Visit Site</a></button>
              </div>
            </div>
          </div>
        </div>
            </div>
          </div>


          <div id="walletPage" class="row align-items-start" style="display:none;">
            <div class="row align-items-start">
              <div class="col-2" style="margin-top:40px;">

              </div>
              <div class="col-8" style="margin-top:40px;">
                <h1 class="neonSign" contenteditable spellcheck="false">NFTs</h1>
              </div>
              <div class="col-2" style="margin-top:40px;">

              </div>
            </div>
            <div class="col-12" style="margin-top:30px">
              <div id="walletContainer" class="row align-items-start" style ="padding-top: 40px;">

            </div>

          </div>
          </div>
          <div id="playPage" class="row align-items-start" style="display:none;">
            <div class="row align-items-start">
              <div class="col-2" style="margin-top:40px;">

              </div>
              <div class="col-8" style="margin-top:40px;">
                <h1 class="neonSign" contenteditable spellcheck="false">play</h1>
              </div>
              <div class="col-2" style="margin-top:40px;">

              </div>
            </div>
            <div id="playPageContainer" class="col-12">
              <img src="https://wallpapercave.com/wp/wp5565660.jpg" alt="jewels" width="100%" height="100%" style="filter: blur(10px) brightness(50%); margin-top:50px">
              <div class="middle text-center">
                <h1>COMING SOON</h1>
              </div>
              <div class="row align-items-start text-center">
                <div class="col-12" style="margin-top:40px;">
                <h1 class="textChange">Other Titles</h1>
                </div>
              </div>
              <div class="row align-items-start">
                <div class="col-12" style="margin-top:40px;">
                  <div class="row align-items-start">
                    <div class="col-4" style="margin-top:40px;">
                      <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
                      <div class="card-body">
                        <div class="row align-items-start">
                            <img src="https://cdn.axieinfinity.com/landing-page/_next/static/images/banner-941f68fe82413ac57390b1d4b6ca51ef.png" alt="jewels" width="30%" height="30%">
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                                <h4 class="textChange"><b>Axis Infinity</b></h4>
                          </div>
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                              <button type="button" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Play Now</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                    <div class="col-4" style="margin-top:40px;">
                      <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
                      <div class="card-body">
                        <div class="row align-items-start">
                            <img src="https://www.cryptokitties.co/images/kitty-eth.svg" alt="jewels" width="30%" height="30%">
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                                <h4 class="textChange"><b>CryptoKitties</b></h4>
                          </div>
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                              <button type="button" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Play Now</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                    <div class="col-4" style="margin-top:40px;">
                      <div class="card mb-3  boxesColor neon" style="max-width:30rem; border-radius: 20px; margin:0px 10px 0px">
                      <div class="card-body">
                        <div class="row align-items-start">
                            <img src="https://d36mxiodymuqjm.cloudfront.net/website/home/splinterlands_logo_fx_1000.png" alt="jewels" width="30%" height="30%">
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                                <h4 class="textChange"><b>Splinterlands</b></h4>
                          </div>
                        </div>
                        <div class="row align-items-start" style ="padding-top: 10px;">
                          <div class="col-12 text-center">
                              <button type="button" class="btn btn-outline-primary changeButtonColor changeButtonTextColor">Play Now</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="settingsPage" class="row align-items-start" style="display:none;">
              <div class="col-9" style="margin-top:20px;">
                <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px;">
                <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b> deSocialNet Account Settings</b></div>
                <div class="card-body" style ="border-top: 1px solid #535353">
                  <div class="row align-items-start">
                    <div id="savedList" class="col-12">
                    </div>
                  </div>
                  <div class="row align-items-start" >
                    <div class="col-4">
                    </div>
                    <div id="newProfileImageAreaSettings" class="col-4 text-center">
                      <span id="defaultNewUserIconSettings" class="iconColor" style="font-size: 4.5em;">
                          <i class="fas fa-user-secret"></i>
                      </span>
                    </div>
                    <div class="col-4">
                    </div>
                  </div>
                  <div class="row align-items-start" >
                    <div class="col-2">
                    </div>
                    <div class="col-8 text-center">
                      <h6 class="textChange" style="border-radius: 20px;" >Select a New User Profile Image</h6>
                      <span class="iconColor" style="font-size: 1.5em;">
                        <label for='newProfileImageSettings'>
                          <i class="fas fa-images"></i>
                        </label>
                        <input id='newProfileImageSettings' accept="image/png, image/gif, image/jpeg" type='file' onchange="handleNewUserProfileImageSettings(this)" onclick="this.value = null" name="MAX_FILE_SIZE" value="10485760" style="display: none">
                      </span>
                    </div>
                    <div class="col-2">
                    </div>
                  </div>
                  <div class="row align-items-start" style="margin:20px 0px 20px">
                  <div class="col-9">
                    <h6 class="textChange" style="padding:0px 0px 0px 0px; margin-top:7px" >Change Profile Picture?</h6>
                  </div>
                  <div class="col-3 text-center">
                    <button type="button" onclick="changeUserProfilePicture()" class="btn changeButtonColor changeButtonTextColor">
                      Submit
                    </button>
                  </div>
                </div>
                  <div class="row align-items-start" style="margin:20px 0px 20px">
                  <div class="col-12">
                    <div class="row align-items-start">
                      <h6 class="textChange" style="padding:0px 0px 0px 0px;" >Pick a New Username</h6>
                        <textarea id="newUsernameSettings" class="form-control textBox" placeholder="New Username" rows="1" ></textarea>
                    </div>
                  </div>
                  </div>
                  <div class="row align-items-start" style="margin:20px 0px 20px">
                  <div class="col-9">
                    <h6 class="textChange" style="padding:0px 0px 0px 0px; margin-top:7px" >Change Username?</h6>
                  </div>
                  <div class="col-3 text-center">
                    <button type="button" onclick="changeUserProfileNickname()" class="btn changeButtonColor changeButtonTextColor">
                      Submit
                    </button>
                  </div>
                </div>
                  <div class="row align-items-start" style="margin:20px 0px 20px">
                  <div class="col-12">
                    <div class="row align-items-start">
                      <h6 class="textChange" style="padding:0px 0px 0px 0px;" >Write a New User Profile Bio</h6>
                        <textarea id="newProfileBioSettings" class="form-control textBox" placeholder="New Bio" rows="1" ></textarea>
                    </div>
                  </div>
                  </div>

                  <div class="row align-items-start" style="margin:20px 0px 20px">
                  <div class="col-9">
                    <h6 class="textChange" style="padding:0px 0px 0px 0px; margin-top:7px" >Change User Profile Bio?</h6>
                  </div>
                  <div class="col-3 text-center">
                    <button type="button" onclick="changeUserProfileBio()" class="btn changeButtonColor changeButtonTextColor">
                      Submit
                    </button>
                  </div>
                </div>

                </div>
              </div>
              </div>
              <div class="col-3 sticky" style="margin-top:20px;">
                <div class="card mb-3 boxesColor boxesShadow"  style="max-width: 30rem; border-radius: 20px;">
                <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Token Swap</b></div>
                <div class="card-body" style ="border-top: 1px solid #535353">
                  <img alt="" src="https://raw.githubusercontent.com/sushiswap/sushi-content/master/products/chopsticks.png" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="64px !important" height="81px"  >
                  <div class="row align-items-start" style ="padding-top: 10px;">
                    <div class="col-12 text-center">
                        <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Sushiswap</h6>
                        <button type="button" class="btn btn-secondary changeSushiButtonTextColor" style="border-radius: .375rem!important; justify-content: center!important; background-image: linear-gradient(to right, rgb(1, 110, 218), rgb(217, 0, 192))">
                        <a href="https://app.sushi.com/swap" data-bs-toggle="modal" data-bs-target="#iFrameModal" target="_blank" class="changeSushiButtonTextColor">
                        Enter Exchange</a></button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px; ">
              <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>Flight Insurance</b></div>
              <div class="card-body" style ="border-top: 1px solid #535353">
                <img alt="" src="https://etherisc.com/assets/flight-delay-icon.97de55.svg" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="80px !important" height="100px"  >
                <div class="row align-items-start" style ="padding-top: 10px;">
                  <div class="col-12 text-center">
                      <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Etherisc</h6>
                      <button type="button" class="btn btn-secondary changeButtonColor changeButtonTextColor" style="border-radius: .375rem!important; justify-content: center!important; ">
                      <a href="https://fdd.etherisc.com/#/" target="_blank" class="changeButtonTextColor">
                      Enter App</a></button>
                  </div>
                </div>
              </div>
            </div>
            <div class="card mb-3 boxesColor boxesShadow" style="max-width: 30rem; border-radius: 20px;">
            <div class="card-header boxesColor text-center textChange" style ="border-radius: 20px; border: 0px;"><b>dAPP Building</b></div>
            <div class="card-body" style ="border-top: 1px solid #535353">
              <img alt="" src="https://moralis.io/wp-content/uploads/2021/07/bigicon_hero2.svg" style="display: block; margin-right: auto;margin-left: auto" align="middle" width="80px !important" height="100px"  >
              <div class="row align-items-start" style ="padding-top: 10px;">
                <div class="col-12 text-center">
                    <h6 class="textChange" style="margin:0px 0px 10px; font-size: 1.25em;">Moralis</h6>
                    <button type="button" class="btn btn-secondary changeButtonColor" style="border-radius: .375rem!important; justify-content: center!important; ">
                    <a href="https://moralis.io/" target="_blank" class="changeButtonTextColor">
                    Visit Site</a></button>
                </div>
              </div>
            </div>
          </div>
              </div>




</div>

          </div>
      </div>
    </div>

<footer class="text-center text-white backgroundColorNavBar"> <!--#3C719D -->
  <div class="container p-3 align-center ">
      <p class="textChange" style="margin:0px">
        Download the Code on Github!       <a class="btn btn-outline-light btn-floating m-1 iconColor" href="#!" role="button"
                ><i class="fab fa-github"></i
              ></a>
        Follow me Twitter!       <a class="btn btn-outline-light btn-floating m-1 iconColor" href="#!" role="button"
                ><i class="fab fa-twitter"></i
              ></a>
        Connect with me on Linkedin!      <a class="btn btn-outline-light btn-floating m-1 iconColor" href="#!" role="button"
                ><i class="fab fa-linkedin-in"></i
              ></a>
      </p>
  </div>
</footer>
  </body>
</html>
